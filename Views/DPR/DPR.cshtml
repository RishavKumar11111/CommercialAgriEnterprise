@{
    ViewBag.Title = "DPR";
    Layout = "~/Views/Shared/_LayoutDPR.cshtml";
}
@using (Html.BeginForm("DPR", "DPR", FormMethod.Post, new { id = "FormId" }))
{
    @Html.AntiForgeryToken()
}
<div data-loading></div>
<div class="title">
    <h2 style="text-align: center">Mukhyamantri Krushi Udyoga Yojana</h2>
</div>
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <h3 style="text-align: center">Detailed Project Report (DPR)</h3>
    </div>
</div>
<div class="clearfix"></div>
<div class="well text-center" ng-show="beneficiaryDetails" style="margin-bottom: 75px">
    <div class="row">
        <h3 style="color: green; text-align: left; padding: 0px 30px">Beneficiary Details</h3>
        <div class="form-horizontal" style="margin: 30px 0px; padding: 0px">
            <div ng-show="entryDetails">
                <form class="form-horizontal" name="formDetail" role="form" autocomplete="off" novalidate>
                    <div class="col-md-3 col-sm-3 col-xs-12"></div>
                    <div class="col-md-6 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                Reference No
                                <span style="color: red" class="required">*</span>
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input type="text" name="referenceNo" placeholder="Enter your Reference No." reference-no capitalize ng-model="txtReferenceNo" ng-disabled="dReferenceNo" class="form-control" maxlength="25" required>
                                <span style="color: red" ng-show="formDetail.referenceNo.$touched && formDetail.referenceNo.$invalid && formDetail.referenceNo.$error.required">This is a required field.</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                Farmer ID
                                <span style="color: red" class="required">*</span>
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input type="text" name="farmerID" placeholder="Enter your Farmer ID" alpha-numeric capitalize ng-model="txtFarmerID" ng-disabled="dFarmerID" class="form-control" maxlength="15" required>
                                <span style="color: red" ng-show="formDetail.farmerID.$touched && formDetail.farmerID.$invalid && formDetail.farmerID.$error.required">This is a required field.</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                Aadhaar No
                                <span style="color: red" class="required">*</span>
                            </label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input type="text" name="aadharNo" placeholder="Enter your Aadhaar No." numbers-only ng-model="txtAadharNo" ng-disabled="dAadharNo" class="form-control" maxlength="12" required>
                                <span style="color: red" ng-show="formDetail.aadharNo.$touched && formDetail.aadharNo.$invalid && formDetail.aadharNo.$error.required">This is a required field.</span>
                            </div>
                        </div>
                        <div ng-show="detailsVisible">
                            <div class="form-group">
                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                    Name of the Entrepreneur
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" ng-model="txtNameOfTheEntrepreneur" maxlength="100" disabled readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                    Category of the Project
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" ng-model="txtCategoryOfTheProject" maxlength="100" disabled readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group" ng-show="showUnitCapacity">
                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                    Unit Size / Capacity
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" ng-model="txtUnitSizeOrCapacity" maxlength="15" disabled readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                    Type of Project
                                </label>
                                <div class="col-md-6 col-sm-6 col-xs-12">
                                    <input type="text" ng-model="txtTypeOfProject" maxlength="100" disabled readonly class="form-control">
                                    <p id="demo" style="text-align: center; font-size: 60px"></p>
                                </div>
                            </div>
                        </div>
                        <div ng-show="btnProceed">
                            @Html.ActionLink("Back to Prerequisites", "Prerequisites", "Prerequisites", null, new { @class = "btn btn-success", @type = "submit" })
                            <input type="button" value="Proceed" class="btn btn-primary" ng-disabled="formDetail.$invalid" ng-click="getBeneficiaryDetails()" />
                        </div>
                        <div ng-show="btnContinueDPR">
                            <input type="button" value="Reset" class="btn btn-warning" ng-click="reset()" />
                            <input type="button" value="Continue to DPR" class="btn btn-primary" ng-disabled="formDetail.$invalid" ng-click="openDPR()" />
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-12"></div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="clearfix"></div>
<div class="well text-center" ng-show="dprVisible" style="margin-bottom: 75px">
    <h4 style="color: red; text-align: left; margin-bottom: -10px">Details of the Project Report</h4>
    <div class="row">
        <section>
            <div class="wizard">
                <div class="wizard-inner">
                    <div class="connecting-line"></div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Step 1">
                                <span class="round-tab">
                                    <i class="fa fa-tasks"></i>
                                </span>
                            </a>
                            <h6>Capital Investment</h6>
                        </li>
                        <li role="presentation" class="disabled">
                            <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Step 2">
                                <span class="round-tab">
                                    <i class="fa fa-pencil"></i>
                                </span>
                            </a>
                            <h6>Recurring Expenditure upto trial Production (not Eligible for CIS)</h6>
                        </li>
                        <li role="presentation" class="disabled">
                            <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" title="Step 3">
                                <span class="round-tab">
                                    <i class="fa fa-suitcase"></i>
                                </span>
                            </a>
                            <h6>Means of Finance</h6>
                        </li>
                        <li role="presentation" class="disabled">
                            <a href="#step4" data-toggle="tab" aria-controls="step4" role="tab" title="Step 4">
                                <span class="round-tab">
                                    <i class="fa fa-bar-chart"></i>
                                </span>
                            </a>
                            <h6>Profitability Projections</h6>
                        </li>
                        <li role="presentation" class="disabled">
                            <a href="#step5" data-toggle="tab" aria-controls="step5" role="tab" title="Step 5">
                                <span class="round-tab">
                                    <i class="fa fa-money"></i>
                                </span>
                            </a>
                            <h6>Cash Flow Statements</h6>
                        </li>
                        <li role="presentation" class="disabled">
                            <a href="#step6" data-toggle="tab" aria-controls="step6" role="tab" title="Step 6">
                                <span class="round-tab">
                                    <i class="fa fa-calculator"></i>
                                </span>
                            </a>
                            <h6>Key Business Matrix</h6>
                        </li>
                        <li role="presentation" class="disabled">
                            <a href="#submit" data-toggle="tab" aria-controls="complete" role="tab" title="Submit">
                                <span class="round-tab">
                                    <i class="glyphicon glyphicon-save"></i>
                                </span>
                            </a>
                            <h6>Preview & Submit</h6>
                        </li>
                    </ul>
                </div>
                <div role="form" class="form-horizontal">
                    <div class="tab-content">
                        <div class="tab-pane active" role="tabpanel" id="step1" style="padding: 10px 30px; margin: 10px 30px">
                            <div class="row">
                                <div class="col-md-3 col-sm-3 col-xs-12">
                                    <ul class="nav vertical-nav-tabs vertical-nav-stacked text-center" role="tablist">
                                        <li role="presentation" class="active"><a href="#land" aria-controls="land" role="tab" data-toggle="tab">Land</a></li>
                                        <li role="presentation" class="disabled"><a href="#civilConstruction" aria-controls="civilConstruction" role="tab" data-toggle="tab">Civil Construction (Exclusively used for the Project)</a></li>
                                        <li role="presentation" class="disabled"><a href="#waterSupply" aria-controls="waterSupply" role="tab" data-toggle="tab">Water Supply</a></li>
                                        <li role="presentation" class="disabled"><a href="#electrification" aria-controls="electrification" role="tab" data-toggle="tab">Electrification</a></li>
                                        <li role="presentation" class="disabled"><a href="#plantMachinery" aria-controls="plantMachinery" role="tab" data-toggle="tab">Plant & Machinery</a></li>
                                        <li role="presentation" class="disabled"><a href="#animalPlantCost" aria-controls="animalPlantCost" role="tab" data-toggle="tab">Animal & Plant Cost</a></li>
                                        <li role="presentation" class="disabled"><a href="#miscellaneous" aria-controls="miscellaneous" role="tab" data-toggle="tab">Miscellaneous</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-9 col-sm-9 col-xs-12">
                                    <div class="row tab-content">
                                        <div role="tabpanel" class="tab-pane fade active in" id="land" style="padding: 25px 0px">
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                            <div ng-show="inputLand" class="col-md-10 col-sm-10 col-xs-12">
                                                <form class="form-horizontal" name="formLand" role="form" autocomplete="off" novalidate>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Land Development ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="development" maxlength="12" valid-number ng-model="txtLandDevelopment" ng-change="updateLandSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formLand.development.$touched && formLand.development.$invalid && formLand.development.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Fencing <small>(Barbed Wire / Green Fencing)</small> ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="fencing" maxlength="12" valid-number ng-model="txtFencing" ng-change="updateLandSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formLand.fencing.$touched && formLand.fencing.$invalid && formLand.fencing.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Sub Total ( ₹ )
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtLandSubTotal" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Capital Investment Cost ( ₹ )
                                                            <small>(A. Land - G. Miscellaneous)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Project Cost ( ₹ )
                                                            <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalProjectCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                            <input type="button" class="btn btn-success" ng-disabled="formLand.$invalid" ng-click="addInvestmentLand()" value="Save" />
                                                        </div>
                                                    </div>
                                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                </form>
                                            </div>
                                            <div ng-show="labelLand" class="col-md-10 col-sm-10 col-xs-12">
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Land Development
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblLandDevelopment}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Fencing <small>(Barbed Wire / Green Fencing)</small>
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblFencing}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Sub Total
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblLandSubTotal}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#landModal" id="btnLandModal" value="Edit" />
                                                        <input type="button" class="btn btn-default vertical-next-step" value="Next" ng-click="loadTotal()" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                        </div>
                                        <div class="modal fade" id="landModal" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <h4 class="modal-title">Land</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="form-horizontal" name="frmLand" role="form" autocomplete="off" novalidate>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Land Development ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Development" maxlength="12" ng-model="LandDevelopment" ng-change="LandSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmLand.Development.$touched && frmLand.Development.$invalid && frmLand.Development.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Fencing <small>(Barbed Wire / Green Fencing)</small> ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Fencing" maxlength="12" ng-model="Fencing" ng-change="LandSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmLand.Fencing.$touched && frmLand.Fencing.$invalid && frmLand.Fencing.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Sub Total ( ₹ )
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="LandSubTotal" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Capital Investment Cost ( ₹ )
                                                                    <small>(A. Land - G. Miscellaneous)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Project Cost ( ₹ )
                                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalProjectCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary" ng-disabled="frmLand.$invalid || frmLand.$pristine" ng-click="updateInvestmentLand(); frmLand.$setPristine()">Update</button>
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmLand.$setPristine()">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="civilConstruction" style="padding: 25px 0px">
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                            <div ng-show="inputCivilConstruction" class="col-md-10 col-sm-10 col-xs-12">
                                                <form class="form-horizontal" name="formCivilConstruction" role="form" autocomplete="off" novalidate>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Building ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="building" valid-number ng-model="txtBuilding" maxlength="12" ng-change="updateCivilConstructionSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formCivilConstruction.building.$touched && formCivilConstruction.building.$invalid && formCivilConstruction.building.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Shed ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="shed" valid-number ng-model="txtShed" maxlength="12" ng-change="updateCivilConstructionSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formCivilConstruction.shed.$touched && formCivilConstruction.shed.$invalid && formCivilConstruction.shed.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Office cum Store ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="officeCumStore" valid-number ng-model="txtOfficeCumStore" maxlength="12" ng-change="updateCivilConstructionSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formCivilConstruction.officeCumStore.$touched && formCivilConstruction.officeCumStore.$invalid && formCivilConstruction.officeCumStore.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Godown ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="godown" valid-number ng-model="txtGodown" maxlength="12" ng-change="updateCivilConstructionSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formCivilConstruction.godown.$touched && formCivilConstruction.godown.$invalid && formCivilConstruction.godown.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Plant Area ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="plantArea" valid-number ng-model="txtPlantArea" maxlength="12" ng-change="updateCivilConstructionSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formCivilConstruction.plantArea.$touched && formCivilConstruction.plantArea.$invalid && formCivilConstruction.plantArea.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Other Necessary Constructions ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="otherNecessaryConstruction" valid-number ng-model="txtOtherNecessaryConstruction" maxlength="12" ng-change="updateCivilConstructionSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formCivilConstruction.otherNecessaryConstruction.$touched && formCivilConstruction.otherNecessaryConstruction.$invalid && formCivilConstruction.otherNecessaryConstruction.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Sub Total ( ₹ )
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtCivilConstructionSubTotal" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Capital Investment Cost ( ₹ )
                                                            <small>(A. Land - G. Miscellaneous)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Project Cost ( ₹ )
                                                            <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalProjectCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                            <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                            <input type="button" class="btn btn-success" ng-disabled="formCivilConstruction.$invalid" ng-click="addInvestmentCivilConstruction()" value="Save" />
                                                        </div>
                                                    </div>
                                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                </form>
                                            </div>
                                            <div ng-show="labelCivilConstruction" class="col-md-10 col-sm-10 col-xs-12">
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Building
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblBuilding}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Shed
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblShed}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Office cum Store
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblOfficeCumStore}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Godown
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblGodown}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Plant Area
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblPlantArea}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Other Necessary Constructions
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblOtherNecessaryConstruction}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Sub Total
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblCivilConstructionSubTotal}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                        <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#civilConstructionModal" value="Edit" id="btnCivilConstructionModal" />
                                                        <input type="button" class="btn btn-default vertical-next-step" value="Next" ng-click="loadTotal()" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                        </div>
                                        <div class="modal fade" id="civilConstructionModal" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <h4 class="modal-title">Civil Construction</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="form-horizontal" name="frmCivilConstruction" role="form" autocomplete="off" novalidate>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Building ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Building" maxlength="12" ng-model="Building" ng-change="CivilConstructionSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmCivilConstruction.Building.$touched && frmCivilConstruction.Building.$invalid && frmCivilConstruction.Building.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Shed ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Shed" maxlength="12" ng-model="Shed" ng-change="CivilConstructionSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmCivilConstruction.Shed.$touched && frmCivilConstruction.Shed.$invalid && frmCivilConstruction.Shed.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Office cum Store ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="OfficeCumStore" maxlength="12" ng-model="OfficeCumStore" ng-change="CivilConstructionSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmCivilConstruction.OfficeCumStore.$touched && frmCivilConstruction.OfficeCumStore.$invalid && frmCivilConstruction.OfficeCumStore.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Godown ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Godown" maxlength="12" ng-model="Godown" ng-change="CivilConstructionSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmCivilConstruction.Godown.$touched && frmCivilConstruction.Godown.$invalid && frmCivilConstruction.Godown.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Plant Area ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="PlantArea" maxlength="12" ng-model="PlantArea" ng-change="CivilConstructionSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmCivilConstruction.PlantArea.$touched && frmCivilConstruction.PlantArea.$invalid && frmCivilConstruction.PlantArea.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Other Necessary Constructions ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="OtherNecessaryConstruction" maxlength="12" ng-model="OtherNecessaryConstruction" ng-change="CivilConstructionSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmCivilConstruction.OtherNecessaryConstruction.$touched && frmCivilConstruction.OtherNecessaryConstruction.$invalid && frmCivilConstruction.OtherNecessaryConstruction.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Sub Total ( ₹ )
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="CivilConstructionSubTotal" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Capital Investment Cost ( ₹ )
                                                                    <small>(A. Land - G. Miscellaneous)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Project Cost ( ₹ )
                                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalProjectCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary" ng-disabled="frmCivilConstruction.$invalid || frmCivilConstruction.$pristine" ng-click="updateInvestmentCivilConstruction(); frmCivilConstruction.$setPristine()">Update</button>
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmCivilConstruction.$setPristine()">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="waterSupply" style="padding: 25px 0px">
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                            <div ng-show="inputWaterSupply" class="col-md-10 col-sm-10 col-xs-12">
                                                <form class="form-horizontal" name="formWaterSupply" role="form" autocomplete="off" novalidate>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Bore Well / Tube Well / Dug Well / River Lift ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="wellOrRiver" valid-number ng-model="txtWellOrRiver" maxlength="12" ng-change="updateWaterSupplySum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formWaterSupply.wellOrRiver.$touched && formWaterSupply.wellOrRiver.$invalid && formWaterSupply.wellOrRiver.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Pump & Pipeline ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="pumpPipeline" valid-number ng-model="txtPumpPipeline" maxlength="12" ng-change="updateWaterSupplySum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formWaterSupply.pumpPipeline.$touched && formWaterSupply.pumpPipeline.$invalid && formWaterSupply.pumpPipeline.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Tank / Overhead Tank ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="tank" valid-number ng-model="txtTank" maxlength="12" ng-change="updateWaterSupplySum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formWaterSupply.tank.$touched && formWaterSupply.tank.$invalid && formWaterSupply.tank.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Sprinkler / Fogger ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="sprinklerFogger" valid-number ng-model="txtSprinklerFogger" maxlength="12" ng-change="updateWaterSupplySum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formWaterSupply.sprinklerFogger.$touched && formWaterSupply.sprinklerFogger.$invalid && formWaterSupply.sprinklerFogger.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Sub Total ( ₹ )
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtWaterSupplySubTotal" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Capital Investment Cost ( ₹ )
                                                            <small>(A. Land - G. Miscellaneous)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Project Cost ( ₹ )
                                                            <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalProjectCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                            <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                            <input type="button" class="btn btn-success" ng-disabled="formWaterSupply.$invalid" ng-click="addInvestmentWaterSupply()" value="Save" />
                                                        </div>
                                                    </div>
                                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                </form>
                                            </div>
                                            <div ng-show="labelWaterSupply" class="col-md-10 col-sm-10 col-xs-12">
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Bore Well / Tube Well / Dug Well / River Lift
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblWellOrRiver}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Pump & Pipeline
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblPumpPipeline}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Tank / Overhead Tank
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblTank}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Sprinkler / Fogger
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblSprinklerFogger}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Sub Total
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblWaterSupplySubTotal}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                        <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#waterSupplyModal" value="Edit" id="btnWaterSupplyModal" />
                                                        <input type="button" class="btn btn-default vertical-next-step" value="Next" ng-click="loadTotal()" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                        </div>
                                        <div class="modal fade" id="waterSupplyModal" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <h4 class="modal-title">Water Supply</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="form-horizontal" name="frmWaterSupply" role="form" autocomplete="off" novalidate>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Bore Well / Tube Well / Dug Well / River Lift ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="WellOrRiver" maxlength="12" ng-model="WellOrRiver" ng-change="WaterSupplySum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmWaterSupply.WellOrRiver.$touched && frmWaterSupply.WellOrRiver.$invalid && frmWaterSupply.WellOrRiver.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Pump & Pipeline ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="PumpPipeline" maxlength="12" ng-model="PumpPipeline" ng-change="WaterSupplySum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmWaterSupply.PumpPipeline.$touched && frmWaterSupply.PumpPipeline.$invalid && frmWaterSupply.PumpPipeline.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Tank / Overhead Tank ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Tank" maxlength="12" ng-model="Tank" ng-change="WaterSupplySum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmWaterSupply.Tank.$touched && frmWaterSupply.Tank.$invalid && frmWaterSupply.Tank.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Sprinkler / Fogger ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="SprinklerFogger" maxlength="12" ng-model="SprinklerFogger" ng-change="WaterSupplySum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmWaterSupply.SprinklerFogger.$touched && frmWaterSupply.SprinklerFogger.$invalid && frmWaterSupply.SprinklerFogger.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Sub Total ( ₹ )
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="WaterSupplySubTotal" disabled class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Capital Investment Cost ( ₹ )
                                                                    <small>(A. Land - G. Miscellaneous)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalCapitalInvestmentCost" disabled class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Project Cost ( ₹ )
                                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalProjectCost" disabled class="form-control">
                                                                </div>
                                                            </div>
                                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary" ng-disabled="frmWaterSupply.$invalid || frmWaterSupply.$pristine" ng-click="updateInvestmentWaterSupply(); frmWaterSupply.$setPristine()">Update</button>
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmWaterSupply.$setPristine()">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="electrification" style="padding: 25px 0px">
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                            <div ng-show="inputElectrification" class="col-md-10 col-sm-10 col-xs-12">
                                                <form class="form-horizontal" name="formElectrification" role="form" autocomplete="off" novalidate>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Installation & Fitting ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="installationFitting" valid-number ng-model="txtInstallationFitting" maxlength="12" ng-change="updateElectrificationSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formElectrification.installationFitting.$touched && formElectrification.installationFitting.$invalid && formElectrification.installationFitting.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Transformer ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="transformer" valid-number ng-model="txtTransformer" maxlength="12" ng-change="updateElectrificationSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formElectrification.transformer.$touched && formElectrification.transformer.$invalid && formElectrification.transformer.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            DG Set ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="dgSet" valid-number ng-model="txtDGSet" maxlength="12" ng-change="updateElectrificationSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formElectrification.dgSet.$touched && formElectrification.dgSet.$invalid && formElectrification.dgSet.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Sub Total ( ₹ )
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtElectrificationSubTotal" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Capital Investment Cost ( ₹ )
                                                            <small>(A. Land - G. Miscellaneous)</small>
                                                            <span class="required"></span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Project Cost ( ₹ )
                                                            <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalProjectCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                            <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                            <input type="button" class="btn btn-success" ng-disabled="formElectrification.$invalid" ng-click="addInvestmentElectrification()" value="Save" />
                                                        </div>
                                                    </div>
                                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                </form>
                                            </div>
                                            <div ng-show="labelElectrification" class="col-md-10 col-sm-10 col-xs-12">
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Installation & Fitting
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblInstallationFitting}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Transformer
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblTransformer}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        DG Set
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblDGSet}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Sub Total
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblElectrificationSubTotal}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                        <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#electrificationModal" value="Edit" id="btnElectrificationModal" />
                                                        <input type="button" class="btn btn-default vertical-next-step" value="Next" ng-click="loadTotal()" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                        </div>
                                        <div class="modal fade" id="electrificationModal" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <h4 class="modal-title">Electrification</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="form-horizontal" name="frmElectrification" role="form" autocomplete="off" novalidate>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Installation & Fitting ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="InstallationFitting" maxlength="12" ng-model="InstallationFitting" ng-change="ElectrificationSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmElectrification.InstallationFitting.$touched && frmElectrification.InstallationFitting.$invalid && frmElectrification.InstallationFitting.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Transformer ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Transformer" maxlength="12" ng-model="Transformer" ng-change="ElectrificationSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmElectrification.Transformer.$touched && frmElectrification.Transformer.$invalid && frmElectrification.Transformer.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    DG Set ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="DGSet" maxlength="12" ng-model="DGSet" ng-change="ElectrificationSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmElectrification.DGSet.$touched && frmElectrification.DGSet.$invalid && frmElectrification.DGSet.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Sub Total ( ₹ )
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="ElectrificationSubTotal" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Capital Investment Cost ( ₹ )
                                                                    <small>(A. Land - G. Miscellaneous)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Project Cost ( ₹ )
                                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalProjectCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary" ng-disabled="frmElectrification.$invalid || frmElectrification.$pristine" ng-click="updateInvestmentElectrification(); frmElectrification.$setPristine()">Update</button>
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmElectrification.$setPristine()">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="plantMachinery" style="padding: 25px 0px">
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                            <div ng-show="inputPlantMachinery" class="col-md-10 col-sm-10 col-xs-12">
                                                <form class="form-horizontal" name="formPlantMachinery" role="form" autocomplete="off" novalidate>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Equipment & Machinery <small>(including Transportation, Tax, & Insurance)</small> ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="equipmentMachinery" maxlength="12" valid-number ng-model="txtEquipmentMachinery" ng-change="updatePlantMachinerySum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formPlantMachinery.equipmentMachinery.$touched && formPlantMachinery.equipmentMachinery.$invalid && formPlantMachinery.equipmentMachinery.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Manual / Motor Operated Equipment <small>(eg. Poultry Cages / Brooding & Growing Equipments / Milking Machine / Chaff Cutter / Refrigeration / Preservation Unit / Fisheries Equipments, etc)</small> ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="manualOrMotor" maxlength="12" valid-number ng-model="txtManualOrMotor" ng-change="updatePlantMachinerySum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formPlantMachinery.manualOrMotor.$touched && formPlantMachinery.manualOrMotor.$invalid && formPlantMachinery.manualOrMotor.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Sub Total ( ₹ )
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtPlantMachinerySubTotal" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Capital Investment Cost ( ₹ )
                                                            <small>(A. Land - G. Miscellaneous)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Project Cost ( ₹ )
                                                            <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalProjectCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                            <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                            <input type="button" class="btn btn-success" ng-disabled="formPlantMachinery.$invalid" ng-click="addInvestmentPlantMachinery()" value="Save" />
                                                        </div>
                                                    </div>
                                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                </form>
                                            </div>
                                            <div ng-show="labelPlantMachinery" class="col-md-10 col-sm-10 col-xs-12">
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Equipment & Machinery <small>(including Transportation, Tax, & Insurance)</small>
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblEquipmentMachinery}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Manual / Motor Operated Equipment <small>(eg. Poultry Cages / Brooding & Growing Equipments / Milking Machine / Chaff Cutter / Refrigeration / Preservation Unit / Fisheries Equipments, etc)</small>
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblManualOrMotor}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Sub Total
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblPlantMachinerySubTotal}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                        <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#plantMachineryModal" value="Edit" id="btnPlantMachineryModal" />
                                                        <input type="button" class="btn btn-default vertical-next-step" value="Next" ng-click="loadTotal()" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                        </div>
                                        <div class="modal fade" id="plantMachineryModal" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <h4 class="modal-title">Plant & Machinery</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="form-horizontal" name="frmPlantMachinery" role="form" autocomplete="off" novalidate>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Equipment & Machinery <small>(including Transportation, Tax, & Insurance)</small> ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="EquipmentMachinery" maxlength="12" ng-model="EquipmentMachinery" ng-change="PlantMachinerySum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmPlantMachinery.EquipmentMachinery.$touched && frmPlantMachinery.EquipmentMachinery.$invalid && frmPlantMachinery.EquipmentMachinery.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Manual / Motor Operated Equipment ( ₹ )
                                                                    <small>(eg. Poultry Cages / Brooding & Growing Equipments / Milking Machine / Chaff Cutter / Refrigeration / Preservation Unit / Fisheries Equipments, etc)</small>
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="ManualOrMotor" maxlength="12" ng-model="ManualOrMotor" ng-change="PlantMachinerySum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmPlantMachinery.ManualOrMotor.$touched && frmPlantMachinery.ManualOrMotor.$invalid && frmPlantMachinery.ManualOrMotor.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Sub Total ( ₹ )
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="PlantMachinerySubTotal" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Capital Investment Cost ( ₹ )
                                                                    <small>(A. Land - G. Miscellaneous)</small>
                                                                    <span class="required"></span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Project Cost ( ₹ )
                                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                                    <span class="required"></span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalProjectCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary" ng-disabled="frmPlantMachinery.$invalid || frmPlantMachinery.$pristine" ng-click="updateInvestmentPlantMachinery(); frmPlantMachinery.$setPristine()">Update</button>
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmPlantMachinery.$setPristine()">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="animalPlantCost" style="padding: 25px 0px">
                                            <div ng-show="inputAnimalPlantCost" class="col-md-10 col-sm-10 col-xs-12">
                                                <form class="form-horizontal" name="formAnimalPlantCost" role="form" autocomplete="off" novalidate>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">Livestock :--- <small>(including Transportation, Tax, & Insurance)</small> ( ₹ )</label>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            <input type="checkbox" name="livestock" ng-model="rbLivestockC" ng-change="checkArr()" value="Cow">
                                                            <text>Cow</text>
                                                            <input type="checkbox" name="livestock" ng-model="rbLivestockB" ng-change="checkArr()" value="Buffalo">
                                                            <text>Buffalo</text>
                                                            <input type="checkbox" name="livestock" ng-model="rbLivestockS" ng-change="checkArr()" value="Sheep">
                                                            <text>Sheep</text>
                                                            <input type="checkbox" name="livestock" ng-model="rbLivestockG" ng-change="checkArr()" value="Goat">
                                                            <text>Goat</text>
                                                            <input type="checkbox" name="livestock" ng-model="rbLivestockP" ng-change="checkArr()" value="Pig">
                                                            <text>Pig</text>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="livestockAmount" maxlength="12" valid-number ng-model="txtLivestock" ng-change="updateAnimalPlantSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Poultry Layer & Breeder Birds ( ₹ )
                                                            <small>(Broiler not Included)</small>
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="poultryBreeder" maxlength="12" valid-number ng-model="txtPoultryBreeder" ng-change="updateAnimalPlantSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formAnimalPlantCost.poultryBreeder.$touched && formAnimalPlantCost.poultryBreeder.$invalid && formAnimalPlantCost.poultryBreeder.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Brood Fish ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="broodFish" maxlength="12" valid-number ng-model="txtBroodFish" ng-change="updateAnimalPlantSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formAnimalPlantCost.broodFish.$touched && formAnimalPlantCost.broodFish.$invalid && formAnimalPlantCost.broodFish.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Plants ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="plant" maxlength="12" valid-number ng-model="txtPlant" ng-change="updateAnimalPlantSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formAnimalPlantCost.plant.$touched && formAnimalPlantCost.plant.$invalid && formAnimalPlantCost.plant.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Sub Total ( ₹ )
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtAnimalPlantSubTotal" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Capital Investment Cost ( ₹ )
                                                            <small>(A. Land - G. Miscellaneous)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Project Cost ( ₹ )
                                                            <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalProjectCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                            <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                            <input type="button" class="btn btn-success" ng-disabled="formAnimalPlantCost.$invalid" ng-click="addInvestmentAnimalPlant()" value="Save" />
                                                        </div>
                                                    </div>
                                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                </form>
                                            </div>
                                            <div ng-show="labelAnimalPlantCost" class="col-md-10 col-sm-10 col-xs-12">
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Livestock :--- <small>(including Transportation, Tax, & Insurance)</small>
                                                    </label>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">{{rbLivestock}}</label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label ng-if="lblLivestock != 'NA'" class="control-label">₹ {{lblLivestock}}</label>
                                                        <label ng-if="lblLivestock == 'NA'" class="control-label">{{lblLivestock}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Poultry Layer & Breeder Birds <small>(Broiler not Included)</small>
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblPoultryBreeder}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Brood Fish
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblBroodFish}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Plants
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblPlant}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Sub Total
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblAnimalPlantSubTotal}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                        <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#animalPlantCostModal" value="Edit" id="btnAnimalPlantCostModal" />
                                                        <input type="button" class="btn btn-default vertical-next-step" value="Next" ng-click="loadTotal()" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                        </div>
                                        <div class="modal fade" id="animalPlantCostModal" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <h4 class="modal-title">Animal & Plant Cost</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="form-horizontal" name="frmAnimalPlantCost" role="form" autocomplete="off" novalidate>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">Livestock :--- <small>(including Transportation, Tax, & Insurance)</small> ( ₹ )</label>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="checkbox" name="LivestockType" ng-model="LivestockTypeC" ng-change="updateCheckArr()" value="Cow">
                                                                    <text>Cow</text>
                                                                    <input type="checkbox" name="LivestockType" ng-model="LivestockTypeB" ng-change="updateCheckArr()" value="Buffalo">
                                                                    <text>Buffalo</text>
                                                                    <input type="checkbox" name="LivestockType" ng-model="LivestockTypeS" ng-change="updateCheckArr()" value="Sheep">
                                                                    <text>Sheep</text>
                                                                    <input type="checkbox" name="LivestockType" ng-model="LivestockTypeG" ng-change="updateCheckArr()" value="Goat">
                                                                    <text>Goat</text>
                                                                    <input type="checkbox" name="LivestockType" ng-model="LivestockTypeP" ng-change="updateCheckArr()" value="Pig">
                                                                    <text>Pig</text>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="LivestockAmount" maxlength="12" ng-model="Livestock" ng-change="AnimalPlantSum(); TotalSum(); CapitalInvestmentSum()" class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Poultry Layer & Breeder Birds ( ₹ )
                                                                    <small>(Broiler not Included)</small>
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="PoultryBreeder" maxlength="12" ng-model="PoultryBreeder" ng-change="AnimalPlantSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmAnimalPlantCost.PoultryBreeder.$touched && frmAnimalPlantCost.PoultryBreeder.$invalid && frmAnimalPlantCost.PoultryBreeder.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Brood Fish ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="BroodFish" maxlength="12" ng-model="BroodFish" ng-change="AnimalPlantSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmAnimalPlantCost.BroodFish.$touched && frmAnimalPlantCost.BroodFish.$invalid && frmAnimalPlantCost.BroodFish.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Plants ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Plant" maxlength="12" ng-model="Plant" ng-change="AnimalPlantSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmAnimalPlantCost.Plant.$touched && frmAnimalPlantCost.Plant.$invalid && frmAnimalPlantCost.Plant.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Sub Total ( ₹ )
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="AnimalPlantSubTotal" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Capital Investment Cost ( ₹ )
                                                                    <small>(A. Land - G. Miscellaneous)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Project Cost ( ₹ )
                                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalProjectCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary" ng-disabled="frmAnimalPlantCost.$invalid || frmAnimalPlantCost.$pristine" ng-click="updateInvestmentAnimalPlant(); frmAnimalPlantCost.$setPristine()">Update</button>
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmAnimalPlantCost.$setPristine()">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="miscellaneous" style="padding: 25px 0px">
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                            <div ng-show="inputMiscellaneous" class="col-md-10 col-sm-10 col-xs-12">
                                                <form class="form-horizontal" name="formMiscellaneous" role="form" autocomplete="off" novalidate>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Insurance Premium of Assets :---
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            i. Fixed Assets ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="fixedAsset" maxlength="12" valid-number ng-model="txtFixedAsset" ng-change="updateMiscellaneousSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formMiscellaneous.fixedAsset.$touched && formMiscellaneous.fixedAsset.$invalid && formMiscellaneous.fixedAsset.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            ii. Livestock ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="mLivestock" maxlength="12" valid-number ng-model="txtMLivestock" ng-change="updateMiscellaneousSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formMiscellaneous.mLivestock.$touched && formMiscellaneous.mLivestock.$invalid && formMiscellaneous.mLivestock.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            iii. Birds ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="bird" maxlength="12" valid-number ng-model="txtBird" ng-change="updateMiscellaneousSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formMiscellaneous.bird.$touched && formMiscellaneous.bird.$invalid && formMiscellaneous.bird.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Perennial Fodder Cultivation ( ₹ )
                                                            <span style="color: red" class="required">*</span>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" name="cultivation" maxlength="12" valid-number ng-model="txtCultivation" ng-change="updateMiscellaneousSum(); updateTotalSum(); updateCapitalInvestmentSum()" class="form-control" required>
                                                            <span style="color: red" ng-show="formMiscellaneous.cultivation.$touched && formMiscellaneous.cultivation.$invalid && formMiscellaneous.cultivation.$error.required">This is a required field.</span>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Sub Total ( ₹ )
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtMiscellaneousTotal" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Capital Investment Cost ( ₹ )
                                                            <small>(A. Land - G. Miscellaneous)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                            Total Project Cost ( ₹ )
                                                            <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalProjectCost" disabled readonly class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                            <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                            <input type="button" class="btn btn-success" ng-disabled="formMiscellaneous.$invalid" ng-click="addInvestmentMiscellaneous()" value="Save" />
                                                        </div>
                                                    </div>
                                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                </form>
                                            </div>
                                            <div ng-show="labelMiscellaneous" class="col-md-10 col-sm-10 col-xs-12">
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Insurance Premium of Assets :---
                                                    </label>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        i. Fixed Assets
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblFixedAsset}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        ii. Livestock
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblMLivestock}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        iii. Birds
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblBird}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Perennial Fodder Cultivation
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblCultivation}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                        Sub Total
                                                    </label>
                                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                                        <label class="control-label">₹ {{lblMiscellaneousTotal}}</label>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                        <input type="button" class="btn btn-default vertical-prev-step" value="Previous" />
                                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#miscellaneousModal" value="Edit" id="btnMiscellaneousModal" />
                                                        <input type="button" class="btn btn-default next-step" value="Next" ng-click="loadTotal()" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                                        </div>
                                        <div class="modal fade" id="miscellaneousModal" role="dialog">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <h4 class="modal-title">Miscellaneous</h4>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="form-horizontal" name="frmMiscellaneous" role="form" autocomplete="off" novalidate>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Insurance Premium of Assets :---
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    i. Fixed Assets ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="FixedAsset" maxlength="12" ng-model="FixedAsset" ng-change="MiscellaneousSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmMiscellaneous.FixedAsset.$touched && frmMiscellaneous.FixedAsset.$invalid && frmMiscellaneous.FixedAsset.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    ii. Livestock ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="MLivestock" maxlength="12" ng-model="MLivestock" ng-change="MiscellaneousSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmMiscellaneous.MLivestock.$touched && frmMiscellaneous.MLivestock.$invalid && frmMiscellaneous.MLivestock.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    iii. Birds ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Bird" maxlength="12" ng-model="Bird" ng-change="MiscellaneousSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmMiscellaneous.Bird.$touched && frmMiscellaneous.Bird.$invalid && frmMiscellaneous.Bird.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Perennial Fodder Cultivation ( ₹ )
                                                                    <span style="color: red" class="required">*</span>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" valid-number name="Cultivation" maxlength="12" ng-model="Cultivation" ng-change="MiscellaneousSum(); TotalSum(); CapitalInvestmentSum()" class="form-control" required>
                                                                    <span style="color: red" ng-show="frmMiscellaneous.Cultivation.$touched && frmMiscellaneous.Cultivation.$invalid && frmMiscellaneous.Cultivation.$error.required">This is a required field.</span>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Sub Total ( ₹ )
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="MiscellaneousTotal" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Capital Investment Cost ( ₹ )
                                                                    <small>(A. Land - G. Miscellaneous)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalCapitalInvestmentCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                                    Total Project Cost ( ₹ )
                                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                                </label>
                                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                                    <input type="text" maxlength="15" valid-number ng-model="TotalProjectCost" disabled readonly class="form-control">
                                                                </div>
                                                            </div>
                                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-primary" ng-disabled="frmMiscellaneous.$invalid || frmMiscellaneous.$pristine" ng-click="updateInvestmentMiscellaneous(); frmMiscellaneous.$setPristine()">Update</button>
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmMiscellaneous.$setPristine()">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="step2" style="padding: 30px 0px; margin: 30px 0px">
                            <div class="col-md-2 col-sm-2 col-xs-12"></div>
                            <div ng-show="inputRecurringExpenditure" class="col-md-8 col-sm-8 col-xs-12">
                                <form class="form-horizontal" name="formExpenditure" role="form" autocomplete="off" novalidate>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Raw Material ( ₹ )
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" name="rawMaterial" maxlength="12" valid-number ng-model="txtRawMaterial" ng-change="updateRecurringExpenditureSum(); updateTotalSum()" class="form-control" required>
                                            <span style="color: red" ng-show="formExpenditure.rawMaterial.$touched && formExpenditure.rawMaterial.$invalid && formExpenditure.rawMaterial.$error.required">This is a required field.</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Salary / labour ( ₹ )
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" name="salaryLabour" maxlength="12" valid-number ng-model="txtSalaryLabour" ng-change="updateRecurringExpenditureSum(); updateTotalSum()" class="form-control" required>
                                            <span style="color: red" ng-show="formExpenditure.salaryLabour.$touched && formExpenditure.salaryLabour.$invalid && formExpenditure.salaryLabour.$error.required">This is a required field.</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Repair & Maintenance, etc ( ₹ )
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" name="repairingMaintainence" maxlength="12" valid-number ng-model="txtRepairingMaintainenceEtc" ng-change="updateRecurringExpenditureSum(); updateTotalSum()" class="form-control" required>
                                            <span style="color: red" ng-show="formExpenditure.repairingMaintainence.$touched && formExpenditure.repairingMaintainence.$invalid && formExpenditure.repairingMaintainence.$error.required">This is a required field.</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Sub Total ( ₹ )
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" maxlength="15" valid-number ng-model="txtRecurringExpenditureSubTotal" disabled readonly class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Total Capital Investment Cost ( ₹ )
                                            <small>(A. Land - G. Miscellaneous)</small>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalCapitalInvestmentCost" disabled readonly class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Total Project Cost ( ₹ )
                                            <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalProjectCost" disabled readonly class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                            <input type="button" class="btn btn-default prev-step" value="Previous" />
                                            <input type="button" class="btn btn-success" ng-disabled="formExpenditure.$invalid" ng-click="addCapitalRecurring()" value="Save" />
                                        </div>
                                    </div>
                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                </form>
                            </div>
                            <div ng-show="labelRecurringExpenditure" class="col-md-8 col-sm-8 col-xs-12">
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Raw Material
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <label class="control-label">₹ {{lblRawMaterial}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Salary / labour
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <label class="control-label">₹ {{lblSalaryLabour}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Reparing & Maintainence, etc
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <label class="control-label">₹ {{lblRepairingMaintainenceEtc}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Sub Total
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <label class="control-label">₹ {{lblRecurringExpenditureSubTotal}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                        <input type="button" class="btn btn-default prev-step" value="Previous" />
                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#recurringExpenditureModal" value="Edit" id="btnRecurringExpenditureModal" />
                                        <input type="button" class="btn btn-default next-step" value="Next" ng-click="loadTotal()" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-sm-2 col-xs-12"></div>
                        </div>
                        <div class="modal fade" id="recurringExpenditureModal" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Recurring Expenditure</h4>
                                    </div>
                                    <div class="modal-body">
                                        <form class="form-horizontal" name="frmRecurringExpenditure" role="form" autocomplete="off" novalidate>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Raw Material (Food, Seeds, Medicines, Fertilizers, Chemicals, etc) ( ₹ )
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" valid-number name="RawMaterial" maxlength="12" ng-model="RawMaterial" ng-change="RecurringExpenditureSum(); TotalSum()" class="form-control" required>
                                                    <span style="color: red" ng-show="frmRecurringExpenditure.RawMaterial.$touched && frmRecurringExpenditure.RawMaterial.$invalid && frmRecurringExpenditure.RawMaterial.$error.required">This is a required field.</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Salary / labour ( ₹ )
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" valid-number name="SalaryLabour" maxlength="12" ng-model="SalaryLabour" ng-change="RecurringExpenditureSum(); TotalSum()" class="form-control" required>
                                                    <span style="color: red" ng-show="frmRecurringExpenditure.SalaryLabour.$touched && frmRecurringExpenditure.SalaryLabour.$invalid && frmRecurringExpenditure.SalaryLabour.$error.required">This is a required field.</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Reparing & Maintainence, etc ( ₹ )
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" valid-number name="RepairingMaintainenceEtc" maxlength="12" ng-model="RepairingMaintainenceEtc" ng-change="RecurringExpenditureSum(); TotalSum()" class="form-control" required>
                                                    <span style="color: red" ng-show="frmRecurringExpenditure.RepairingMaintainenceEtc.$touched && frmRecurringExpenditure.RepairingMaintainenceEtc.$invalid && frmRecurringExpenditure.RepairingMaintainenceEtc.$error.required">This is a required field.</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total ( ₹ )
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" maxlength="15" valid-number ng-model="RecurringExpenditureSubTotal" disabled readonly class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Total Project Cost ( ₹ )
                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" maxlength="15" valid-number ng-model="TotalProjectCost" disabled readonly class="form-control">
                                                </div>
                                            </div>
                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" ng-disabled="frmRecurringExpenditure.$invalid || frmRecurringExpenditure.$pristine" ng-click="updateCapitalRecurring(); frmRecurringExpenditure.$setPristine()">Update</button>
                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmRecurringExpenditure.$setPristine()">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="step3" style="padding: 30px 0px; margin: 30px 0px">
                            <div class="col-md-2 col-sm-2 col-xs-12"></div>
                            <div ng-show="inputMeansOfFinance" class="col-md-8 col-sm-8 col-xs-12">
                                <form class="form-horizontal" name="formMeansOfFinance" role="form" autocomplete="off" novalidate>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Own Investment ( ₹ )
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <input type="text" name="ownInvestment" maxlength="12" valid-number ng-model="txtOwnInvestment" ng-change="updateMeansOfFinanceSum()" class="form-control" required>
                                            <span style="color: red" ng-show="formMeansOfFinance.ownInvestment.$touched && formMeansOfFinance.ownInvestment.$invalid && formMeansOfFinance.ownInvestment.$error.required">This is a required field.</span>
                                        </div>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <textarea name="rOwnInvestment" maxlength="300" rows="1" wrap="soft" placeholder="Enter remarks if any..." ng-model="txtareaOwnInvestment" class="form-control"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Term Loan ( ₹ )
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <input type="text" name="termLoan" maxlength="12" valid-number ng-model="txtTermLoan" ng-change="updateMeansOfFinanceSum()" class="form-control" required>
                                            <span style="color: red" ng-show="formMeansOfFinance.termLoan.$touched && formMeansOfFinance.termLoan.$invalid && formMeansOfFinance.termLoan.$error.required">This is a required field.</span>
                                        </div>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <textarea name="rTermLoan" maxlength="300" rows="1" wrap="soft" placeholder="Enter remarks if any..." ng-model="txtareaTermLoan" class="form-control"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Working Capital Loan ( ₹ )
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <input type="text" name="workingCapitalLoan" maxlength="12" valid-number ng-model="txtWorkingCapitalLoan" ng-change="updateMeansOfFinanceSum()" class="form-control" required>
                                            <span style="color: red" ng-show="formMeansOfFinance.workingCapitalLoan.$touched && formMeansOfFinance.workingCapitalLoan.$invalid && formMeansOfFinance.workingCapitalLoan.$error.required">This is a required field.</span>
                                        </div>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <textarea name="rWorkingCapitalLoan" maxlength="300" rows="1" wrap="soft" placeholder="Enter remarks if any..." ng-model="txtareaWorkingCapitalLoan" class="form-control"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Any Other Source ( ₹ )
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <input type="text" name="anyOtherSource" maxlength="12" valid-number ng-model="txtAnyOtherSource" ng-change="updateMeansOfFinanceSum()" class="form-control" required>
                                            <span style="color: red" ng-show="formMeansOfFinance.anyOtherSource.$touched && formMeansOfFinance.anyOtherSource.$invalid && formMeansOfFinance.anyOtherSource.$error.required">This is a required field.</span>
                                        </div>
                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                            <textarea name="rAnyOtherSource" maxlength="300" rows="1" wrap="soft" placeholder="Enter remarks if any..." ng-model="txtareaAnyOtherSource" class="form-control"></textarea>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Total Finance ( ₹ )
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" maxlength="15" valid-number ng-model="txtTotalFinance" disabled readonly class="form-control">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                            <input type="button" class="btn btn-default prev-step" value="Previous" />
                                            <input type="button" class="btn btn-success" ng-disabled="formMeansOfFinance.$invalid" ng-click="addMeansOfFinance()" value="Save" />
                                        </div>
                                    </div>
                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                </form>
                            </div>
                            <div ng-show="labelMeansOfFinance" class="col-md-8 col-sm-8 col-xs-12">
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Own Investment
                                    </label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label class="control-label">₹ {{lblOwnInvestment}}</label>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label class="control-label">Remark: {{lblareaOwnInvestment}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Term Loan
                                    </label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label class="control-label">₹ {{lblTermLoan}}</label>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label class="control-label">Remark: {{lblareaTermLoan}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Working Capital Loan
                                    </label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label class="control-label">₹ {{lblWorkingCapitalLoan}}</label>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label class="control-label">Remark: {{lblareaWorkingCapitalLoan}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Any Other Source
                                    </label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label class="control-label">₹ {{lblAnyOtherSource}}</label>
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label class="control-label">Remark: {{lblareaAnyOtherSource}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Total Finance
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <label class="control-label">₹ {{lblTotalFinance}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                        <input type="button" class="btn btn-default prev-step" value="Previous" />
                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#meansOfFinanceModal" value="Edit" id="btnMeansOfFinanceModal" />
                                        <input type="button" class="btn btn-default next-step" value="Next" ng-click="loadTotal()" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-sm-2 col-xs-12"></div>
                        </div>
                        <div class="modal fade" id="meansOfFinanceModal" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Means of Finance</h4>
                                    </div>
                                    <div class="modal-body">
                                        <form class="form-horizontal" name="frmMeansOfFinance" role="form" autocomplete="off" novalidate>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Own Investment ( ₹ )
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <input type="text" valid-number name="OwnInvestment" maxlength="12" ng-model="OwnInvestment" ng-change="MeansOfFinanceSum()" class="form-control" required>
                                                    <span style="color: red" ng-show="frmMeansOfFinance.OwnInvestment.$touched && frmMeansOfFinance.OwnInvestment.$invalid && frmMeansOfFinance.OwnInvestment.$error.required">This is a required field.</span>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <textarea rows="1" wrap="soft" name="AreaOwnInvestment" maxlength="300" placeholder="Enter remarks if any..." ng-model="areaOwnInvestment" class="form-control"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Term Loan ( ₹ )
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <input type="text" valid-number name="TermLoan" maxlength="12" ng-model="TermLoan" ng-change="MeansOfFinanceSum()" class="form-control" required>
                                                    <span style="color: red" ng-show="frmMeansOfFinance.TermLoan.$touched && frmMeansOfFinance.TermLoan.$invalid && frmMeansOfFinance.TermLoan.$error.required">This is a required field.</span>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <textarea rows="1" wrap="soft" name="AreaTermLoan" maxlength="300" placeholder="Enter remarks if any..." ng-model="areaTermLoan" class="form-control"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Working Capital Loan ( ₹ )
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <input type="text" valid-number name="WorkingCapitalLoan" maxlength="12" ng-model="WorkingCapitalLoan" ng-change="MeansOfFinanceSum()" class="form-control" required>
                                                    <span style="color: red" ng-show="frmMeansOfFinance.WorkingCapitalLoan.$touched && frmMeansOfFinance.WorkingCapitalLoan.$invalid && frmMeansOfFinance.WorkingCapitalLoan.$error.required">This is a required field.</span>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <textarea rows="1" wrap="soft" name="AreaWorkingCapitalLoan" maxlength="300" placeholder="Enter remarks if any..." ng-model="areaWorkingCapitalLoan" class="form-control"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Any Other Source ( ₹ )
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <input type="text" valid-number name="AnyOtherSource" maxlength="12" ng-model="AnyOtherSource" ng-change="MeansOfFinanceSum()" class="form-control" required>
                                                    <span style="color: red" ng-show="frmMeansOfFinance.AnyOtherSource.$touched && frmMeansOfFinance.AnyOtherSource.$invalid && frmMeansOfFinance.AnyOtherSource.$error.required">This is a required field.</span>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <textarea rows="1" wrap="soft" name="AreaAnyOtherSource" maxlength="300" placeholder="Enter remarks if any..." ng-model="areaAnyOtherSource" class="form-control"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Total Finance
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" maxlength="15" valid-number ng-model="TotalFinance" disabled readonly class="form-control">
                                                </div>
                                            </div>
                                            <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" ng-disabled="frmMeansOfFinance.$invalid || frmMeansOfFinance.$pristine" ng-click="updateMeansOfFinance(); frmMeansOfFinance.$setPristine()">Update</button>
                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmMeansOfFinance.$setPristine()">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="step4" style="padding: 30px 0px; margin: 30px 0px">
                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                            <div ng-show="inputProfitabilityProjection" class="col-md-10 col-sm-10 col-xs-12">
                                <form class="form-horizontal" name="formProfitabilityProjection" role="form" autocomplete="off" novalidate>
                                    <div class="row">
                                        <div class="form-group">
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Year
                                                <span style="color: red" class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Gross Revenue / Income ( ₹ )
                                                <span style="color: red" class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Total Expenditure ( ₹ )
                                                <span style="color: red" class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Gross Profit <small>(PBDIT)</small> ( ₹ )
                                                <span style="color: red" class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Net Profit ( ₹ )
                                                <span style="color: red" class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Actions
                                                <span style="color: red" class="required">*</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="row">
                                        <div class="form-group" style="text-align: center" ng-repeat="i in profitabilityProjection">
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                {{i.PYear}}
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                {{i.GrossRevenue}}
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                {{i.TotalExpenditure}}
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-2">
                                                {{i.GrossProfit}}
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-2">
                                                {{i.NetProfit}}
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <button type="button" id="minus" class="btn btn-danger fa fa-minus" ng-click="removePData($index, i.PYear)"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="row">
                                        <div class="form-group" ng-show="pData">
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <select class="form-control" ng-model="ddlPYear" ng-options="item for item in pYears | orderBy {{item}}" ng-change="textboxTypeP(ddlPYear)">
                                                    <option value="" disabled selected>-Select Year-</option>
                                                </select>
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <input ng-show="ppI" type="text" maxlength="15" valid-number ng-model="txtGrossRevenue" class="form-control">
                                                <input ng-show="npI" type="text" maxlength="15" integer-all ng-model="txtGrossRevenue" class="form-control" allow-decimal="true" allow-negative="true" />
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <input ng-show="ppI" type="text" maxlength="15" valid-number ng-model="txtTotalExpenditure" class="form-control">
                                                <input ng-show="npI" type="text" maxlength="15" integer-all ng-model="txtTotalExpenditure" class="form-control" allow-decimal="true" allow-negative="true" />
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <input ng-show="ppI" type="text" maxlength="15" valid-number ng-model="txtGrossProfit" class="form-control">
                                                <input ng-show="npI" type="text" maxlength="15" integer-all ng-model="txtGrossProfit" class="form-control" allow-decimal="true" allow-negative="true" />
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <input ng-show="ppI" type="text" maxlength="15" valid-number ng-model="txtNetProfit" class="form-control">
                                                <input ng-show="npI" type="text" maxlength="15" integer-all ng-model="txtNetProfit" class="form-control" allow-decimal="true" allow-negative="true" />
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <button type="button" id="plus" class="btn btn-primary fa fa-plus" ng-click="pushPData()"></button>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                <input type="button" class="btn btn-default prev-step" value="Previous" />
                                                <input type="button" class="btn btn-success" ng-click="addProfitabilityProjection()" value="Save" />
                                            </div>
                                        </div>
                                    </div>
                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                </form>
                            </div>
                            <div ng-show="labelProfitabilityProjection" class="col-md-10 col-sm-10 col-xs-12" style="margin-bottom: 10px">
                                <div class="row">
                                    <div class="form-group col-md-12 col-sm-12 col-xs-12" style="text-align: center">
                                        <table class="table table-striped">
                                            <tr>
                                                <td><b>Serial No.</b></td>
                                                <td><b>Year</b></td>
                                                <td><b>Gross Revenue / Income ( ₹ )</b></td>
                                                <td><b>Total Expenditure ( ₹ )</b></td>
                                                <td><b>Gross Profit <small>(PBDIT)</small> ( ₹ )</b></td>
                                                <td><b>Net Profit ( ₹ )</b></td>
                                                <td><b>Action</b></td>
                                            </tr>
                                            <tr ng-repeat="i in profitabilityProjectionDetails">
                                                <td>{{$index + 1}}</td>
                                                <td>{{i.Year}}</td>
                                                <td>{{i.GrossRevenue}}</td>
                                                <td>{{i.TotalExpenditure}}</td>
                                                <td>{{i.GrossProfit}}</td>
                                                <td>{{i.NetProfit}}</td>
                                                <td>
                                                    <input type="button" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#profitabilityProjectionModal" value="Edit" ng-click="editProfitabilityProjection(i.ReferenceNo, i.Year)" />
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                    <input type="button" class="btn btn-default prev-step" value="Previous" />
                                    <input type="button" class="btn btn-default next-step" value="Next" ng-click="loadTotal()" />
                                </div>
                            </div>
                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                        </div>
                        <div class="modal fade" id="profitabilityProjectionModal" role="dialog">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" id="btnProfitabilityProjectionModal" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Profitability Projections</h4>
                                    </div>
                                    <div class="modal-body">
                                        <form class="form-horizontal" name="frmProfitabilityProjection" role="form" autocomplete="off" novalidate>
                                            <div class="row" style="margin: 0px">
                                                <div class="form-group">
                                                    <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                        Year
                                                        <span style="color: red" class="required">*</span>
                                                    </label>
                                                    <label style="text-align: center" class="control-label col-md-3 col-sm-3 col-xs-12">
                                                        Gross Revenue / Income ( ₹ )
                                                        <span style="color: red" class="required">*</span>
                                                    </label>
                                                    <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                        Total Expenditure ( ₹ )
                                                        <span style="color: red" class="required">*</span>
                                                    </label>
                                                    <label style="text-align: center" class="control-label col-md-3 col-sm-3 col-xs-12">
                                                        Gross Profit <small>(PBDIT)</small> ( ₹ )
                                                        <span style="color: red" class="required">*</span>
                                                    </label>
                                                    <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                        Net Profit ( ₹ )
                                                        <span style="color: red" class="required">*</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>
                                            <div class="row" style="margin: 0px">
                                                <div class="form-group" style="text-align: center">
                                                    <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                        {{PYear}}
                                                    </div>
                                                    <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                        <input ng-show="ppInteger" type="text" valid-number name="GrossRevenue" maxlength="15" class="form-control" ng-model="GrossRevenue" required />
                                                        <input ng-show="npInteger" type="text" integer-all name="GrossRevenue" maxlength="15" class="form-control" ng-model="GrossRevenue" allow-decimal="true" allow-negative="true" required />
                                                        <span style="color: red" ng-show="frmProfitabilityProjection.GrossRevenue.$touched && frmProfitabilityProjection.GrossRevenue.$invalid && frmProfitabilityProjection.GrossRevenue.$error.required">This is a required field.</span>
                                                    </div>
                                                    <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                        <input ng-show="ppInteger" type="text" valid-number name="TotalExpenditure" maxlength="15" class="form-control" ng-model="TotalExpenditure" required />
                                                        <input ng-show="npInteger" type="text" integer-all name="TotalExpenditure" maxlength="15" class="form-control" ng-model="TotalExpenditure" allow-decimal="true" allow-negative="true" required />
                                                        <span style="color: red" ng-show="frmProfitabilityProjection.TotalExpenditure.$touched && frmProfitabilityProjection.TotalExpenditure.$invalid && frmProfitabilityProjection.TotalExpenditure.$error.required">This is a required field.</span>
                                                    </div>
                                                    <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                        <input ng-show="ppInteger" type="text" valid-number name="GrossProfit" maxlength="15" class="form-control" ng-model="GrossProfit" required />
                                                        <input ng-show="npInteger" type="text" integer-all name="GrossProfit" maxlength="15" class="form-control" ng-model="GrossProfit" allow-decimal="true" allow-negative="true" required />
                                                        <span style="color: red" ng-show="frmProfitabilityProjection.GrossProfit.$touched && frmProfitabilityProjection.GrossProfit.$invalid && frmProfitabilityProjection.GrossProfit.$error.required">This is a required field.</span>
                                                    </div>
                                                    <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                        <input ng-show="ppInteger" type="text" valid-number name="NetProfit" maxlength="15" class="form-control" ng-model="NetProfit" required />
                                                        <input ng-show="npInteger" type="text" integer-all name="NetProfit" maxlength="15" class="form-control" ng-model="NetProfit" allow-decimal="true" allow-negative="true" required />
                                                        <span style="color: red" ng-show="frmProfitabilityProjection.NetProfit.$touched && frmProfitabilityProjection.NetProfit.$invalid && frmProfitabilityProjection.NetProfit.$error.required">This is a required field.</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                        <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" ng-disabled="frmProfitabilityProjection.$invalid || frmProfitabilityProjection.$pristine" ng-click="updateProfitabilityProjection(); frmProfitabilityProjection.$setPristine()">Update</button>
                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmProfitabilityProjection.$setPristine()">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="step5" style="padding: 30px 0px; margin: 30px 0px">
                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                            <div ng-show="inputCashFlowStatement" class="col-md-10 col-sm-10 col-xs-12">
                                <form class="form-horizontal" name="formCashFlowStatement" role="form" autocomplete="off" novalidate>
                                    <div class="row">
                                        <div class="form-group">
                                            <label style="text-align: center" class="control-label col-md-3 col-sm-3 col-xs-12">
                                                Year
                                                <span class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Total Cash Inflow ( ₹ )
                                                <span class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Total Cash Outflow ( ₹ )
                                                <span class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-2 col-sm-2 col-xs-12">
                                                Net Cash Inflow ( ₹ )
                                                <span class="required">*</span>
                                            </label>
                                            <label style="text-align: center" class="control-label col-md-3 col-sm-3 col-xs-12">
                                                Actions
                                                <span class="required">*</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="row">
                                        <div class="form-group" style="text-align: center" ng-repeat="i in cashFlowStatement">
                                            <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                {{i.CYear}}
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                {{i.TotalCashInflow}}
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                {{i.TotalCashOutflow}}
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                {{i.NetCashInflow}}
                                            </div>
                                            <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                <button type="button" id="minus" class="btn btn-danger fa fa-minus" ng-click="removeCData($index, i.CYear)"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="row">
                                        <div class="form-group" ng-show="cData">
                                            <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                <select class="form-control" ng-model="ddlCYear" ng-options="item for item in cYears | orderBy {{item}}" ng-change="textboxTypeC(ddlCYear)">
                                                    <option value="" disabled selected>-Select Year-</option>
                                                </select>
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <input ng-show="pcI" type="text" maxlength="15" valid-number ng-model="txtTotalCashInflow" class="form-control">
                                                <input ng-show="ncI" type="text" maxlength="15" integer-all ng-model="txtTotalCashInflow" class="form-control" allow-decimal="true" allow-negative="true" />
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <input ng-show="pcI" type="text" maxlength="15" valid-number ng-model="txtTotalCashOutflow" class="form-control">
                                                <input ng-show="ncI" type="text" maxlength="15" integer-all ng-model="txtTotalCashOutflow" class="form-control" allow-decimal="true" allow-negative="true" />
                                            </div>
                                            <div style="text-align: center" class="col-md-2 col-sm-2 col-xs-12">
                                                <input ng-show="pcI" type="text" maxlength="15" valid-number ng-model="txtNetCashInflow" class="form-control">
                                                <input ng-show="ncI" type="text" maxlength="15" integer-all ng-model="txtNetCashInflow" class="form-control" allow-decimal="true" allow-negative="true" />
                                            </div>
                                            <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                <button type="button" id="plus" class="btn btn-primary fa fa-plus" ng-click="pushCData()"></button>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                                <input type="button" class="btn btn-default prev-step" value="Previous" />
                                                <input type="button" class="btn btn-success" ng-click="addCashFlowStatement()" value="Save" />
                                            </div>
                                        </div>
                                    </div>
                                    <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                </form>
                            </div>
                            <div ng-show="labelCashFlowStatement" class="col-md-10 col-sm-10 col-xs-12" style="margin-bottom: 10px">
                                <div class="row">
                                    <div class="form-group col-md-12 col-sm-12 col-xs-12" style="text-align: center">
                                        <table class="table table-striped">
                                            <tr>
                                                <td><b>Serial No.</b></td>
                                                <td><b>Year</b></td>
                                                <td><b>Total Cash Inflow ( ₹ )</b></td>
                                                <td><b>Total Cash Outflow ( ₹ )</b></td>
                                                <td><b>Net Cash Inflow ( ₹ )</b></td>
                                                <td><b>Action</b></td>
                                            </tr>
                                            <tr ng-repeat="i in cashFlowStatements">
                                                <td>{{$index + 1}}</td>
                                                <td>{{i.Year}}</td>
                                                <td>{{i.TotalCashInflow}}</td>
                                                <td>{{i.TotalCashOutflow}}</td>
                                                <td>{{i.NetCashInflow}}</td>
                                                <td>
                                                    <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#cashFlowStatementModal" value="Edit" ng-click="editCashFlowStatement(i.ReferenceNo, i.Year)" />
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                    <input type="button" class="btn btn-default prev-step" value="Previous" />
                                    <input type="button" class="btn btn-default next-step" value="Next" ng-click="loadTotal()" />
                                </div>
                            </div>
                            <div class="col-md-1 col-sm-1 col-xs-12"></div>
                        </div>
                        <div class="modal fade" id="cashFlowStatementModal" role="dialog">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" id="btnCashFlowStatementModal" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Cash Flow Statements</h4>
                                    </div>
                                    <div class="modal-body">
                                        <form class="form-horizontal" name="frmCashFlowStatement" role="form" autocomplete="off" novalidate>
                                            <div class="row" style="margin: 0px">
                                                <div class="form-group">
                                                    <label style="text-align: center" class="control-label col-md-3 col-sm-3 col-xs-12">
                                                        Year
                                                        <span class="required">*</span>
                                                    </label>
                                                    <label style="text-align: center" class="control-label col-md-3 col-sm-3 col-xs-12">
                                                        Total Cash Inflow ( ₹ )
                                                        <span class="required">*</span>
                                                    </label>
                                                    <label style="text-align: center" class="control-label col-md-3 col-sm-3 col-xs-12">
                                                        Total Cash Outflow ( ₹ )
                                                        <span class="required">*</span>
                                                    </label>
                                                    <label style="text-align: center" class="control-label col-md-3 col-sm-3 col-xs-12">
                                                        Net Cash Inflow ( ₹ )
                                                        <span class="required">*</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>
                                            <div class="row" style="margin: 0px">
                                                <div class="form-group" style="text-align: center">
                                                    <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                        {{CYear}}
                                                    </div>
                                                    <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                        <input ng-show="pcInteger" type="text" valid-number name="TotalCashInflow" maxlength="15" class="form-control" ng-model="TotalCashInflow" required />
                                                        <input ng-show="ncInteger" type="text" integer-all name="TotalCashInflow" maxlength="15" class="form-control" ng-model="TotalCashInflow" allow-decimal="true" allow-negative="true" required />
                                                        <span style="color: red" ng-show="frmCashFlowStatement.TotalCashInflow.$touched && frmCashFlowStatement.TotalCashInflow.$invalid && frmCashFlowStatement.TotalCashInflow.$error.required">This is a required field.</span>
                                                    </div>
                                                    <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                        <input ng-show="pcInteger" type="text" valid-number name="TotalCashOutflow" maxlength="15" class="form-control" ng-model="TotalCashOutflow" required />
                                                        <input ng-show="ncInteger" type="text" integer-all name="TotalCashOutflow" maxlength="15" class="form-control" ng-model="TotalCashOutflow" allow-decimal="true" allow-negative="true" required />
                                                        <span style="color: red" ng-show="frmCashFlowStatement.TotalCashOutflow.$touched && frmCashFlowStatement.TotalCashOutflow.$invalid && frmCashFlowStatement.TotalCashOutflow.$error.required">This is a required field.</span>
                                                    </div>
                                                    <div style="text-align: center" class="col-md-3 col-sm-3 col-xs-12">
                                                        <input ng-show="pcInteger" type="text" valid-number name="NetCashInflow" maxlength="15" class="form-control" ng-model="NetCashInflow" required />
                                                        <input ng-show="ncInteger" type="text" integer-all name="NetCashInflow" maxlength="15" class="form-control" ng-model="NetCashInflow" allow-decimal="true" allow-negative="true" required />
                                                        <span style="color: red" ng-show="frmCashFlowStatement.NetCashInflow.$touched && frmCashFlowStatement.NetCashInflow.$invalid && frmCashFlowStatement.NetCashInflow.$error.required">This is a required field.</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                        <label class="text-left"><b>Note: </b>If no investment is done in a particular field then fill the field with "0"</label>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" ng-disabled="frmCashFlowStatement.$invalid || frmCashFlowStatement.$pristine" ng-click="updateCashFlowStatement(); frmCashFlowStatement.$setPristine()">Update</button>
                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmCashFlowStatement.$setPristine()">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="step6" style="padding: 30px 0px; margin: 30px 0px">
                            <div class="col-md-2 col-sm-2 col-xs-12"></div>
                            <div ng-show="inputKeyBusinessMatrix" class="col-md-8 col-sm-8 col-xs-12">
                                <form class="form-horizontal" name="formBusiness" role="form" autocomplete="off" novalidate>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            Break Even Point
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" name="breakEvenPoint" maxlength="5" valid-number ng-model="txtBreakEvenPoint" class="form-control" required>
                                            <span style="color: red" ng-show="formBusiness.breakEvenPoint.$touched && formBusiness.breakEvenPoint.$invalid && formBusiness.breakEvenPoint.$error.required">This is a required field.</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            DSCR
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" name="dscr" maxlength="15" valid-number ng-model="txtDSCR" class="form-control" required>
                                            <span style="color: red" ng-show="formBusiness.dscr.$touched && formBusiness.dscr.$invalid && formBusiness.dscr.$error.required">This is a required field.</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                            IRR
                                            <span style="color: red" class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" name="irr" maxlength="15" valid-number ng-model="txtIRR" class="form-control" required>
                                            <span style="color: red" ng-show="formBusiness.irr.$touched && formBusiness.irr.$invalid && formBusiness.irr.$error.required">This is a required field.</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                            <input type="button" class="btn btn-default prev-step" value="Previous" />
                                            <input type="button" id="btnAddKeyBusinessMatrix" class="btn btn-success" ng-disabled="formBusiness.$invalid" ng-click="addKeyBusinessMatrix()" value="Save" />
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div ng-show="labelKeyBusinessMatrix" class="col-md-8 col-sm-8 col-xs-12">
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        Break Even Point
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <label class="control-label">{{lblBreakEvenPoint}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        DSCR
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <label class="control-label">{{lblDSCR}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                        IRR
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <label class="control-label">{{lblIRR}}</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                                        <input type="button" class="btn btn-default prev-step" value="Previous" />
                                        <input type="button" class="btn btn-warning" data-toggle="modal" data-target="#keyBusinessMatrixModal" value="Edit" id="btnKeyBusinessMatrixModal" />
                                        <input type="button" class="btn btn-default next-step" value="Next" ng-click="loadTotal()" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2 col-sm-2 col-xs-12"></div>
                        </div>
                        <div class="modal fade" id="keyBusinessMatrixModal" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Key Business Matrix</h4>
                                    </div>
                                    <div class="modal-body">
                                        <form class="form-horizontal" name="frmKeyBusinessMatrix" role="form" autocomplete="off" novalidate>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Break Even Point
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" valid-number name="BreakEvenPoint" maxlength="5" ng-model="BreakEvenPoint" class="form-control" required>
                                                    <span style="color: red" ng-show="frmKeyBusinessMatrix.BreakEvenPoint.$touched && frmKeyBusinessMatrix.BreakEvenPoint.$invalid && frmKeyBusinessMatrix.BreakEvenPoint.$error.required">This is a required field.</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    DSCR
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" valid-number name="DSCR" maxlength="15" ng-model="DSCR" class="form-control" required>
                                                    <span style="color: red" ng-show="frmKeyBusinessMatrix.DSCR.$touched && frmKeyBusinessMatrix.DSCR.$invalid && frmKeyBusinessMatrix.DSCR.$error.required">This is a required field.</span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: left" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    IRR
                                                    <span style="color: red" class="required">*</span>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <input type="text" valid-number name="IRR" maxlength="15" ng-model="IRR" class="form-control" required>
                                                    <span style="color: red" ng-show="frmKeyBusinessMatrix.IRR.$touched && frmKeyBusinessMatrix.IRR.$invalid && frmKeyBusinessMatrix.IRR.$error.required">This is a required field.</span>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" ng-disabled="frmKeyBusinessMatrix.$invalid || frmKeyBusinessMatrix.$pristine" ng-click="updateKeyBusinessMatrix(); frmKeyBusinessMatrix.$setPristine()">Update</button>
                                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="frmKeyBusinessMatrix.$setPristine()">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" role="tabpanel" id="submit" style="padding: 30px 0px; margin: 30px 0px">
                            <h3>Preview & Submit</h3>
                            <p>You have successfully completed all the steps of filling DPR. Please click on the Preview Button to view the complete DPR</p>
                            <input type="button" class="btn btn-default prev-step" value="Previous" />
                            <input type="button" class="btn btn-primary" data-toggle="modal" data-target="#previewModal" value="Preview" />
                        </div>
                        <div class="clearfix"></div>
                        <div class="modal fade" id="previewModal" role="dialog">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Preview & Submit DPR</h4>
                                    </div>
                                    <div class="modal-body">
                                        <fieldset>
                                            <legend>Land</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Land Development
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblLandDevelopment}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Fencing <small>(Barbed Wire / Green Fencing)</small>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblFencing}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblLandSubTotal}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Civil Construction <small>(Exclusively used for the Project)</small></legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Building
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblBuilding}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Shed
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblShed}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Office cum Store
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblOfficeCumStore}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Godown
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblGodown}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Plant Area
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblPlantArea}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Other Necessary Constructions
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblOtherNecessaryConstruction}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblCivilConstructionSubTotal}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Water Supply</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Bore Well / Tube Well / Dug Well / River Lift
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblWellOrRiver}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Pump & Pipeline
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblPumpPipeline}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Tank / Overhead Tank
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblTank}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sprinkler / Fogger
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblSprinklerFogger}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblWaterSupplySubTotal}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Electrification</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Installation & Fitting
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblInstallationFitting}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Transformer
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblTransformer}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    DG Set
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblDGSet}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblElectrificationSubTotal}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Plant & Machinery</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Equipment & Machinery <small>(including Transportation, Tax, & Insurance)</small>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblEquipmentMachinery}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Manual / Motor Operated Equipment <small>(eg. Poultry Cages / Brooding & Growing Equipments / Milking Machine / Chaff Cutter / Refrigeration / Preservation Unit / Fisheries Equipments, etc)</small>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblManualOrMotor}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblPlantMachinerySubTotal}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Animal & Plant Cost</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Livestock :--- <small>(including Transportation, Tax, & Insurance)</small>
                                                </label>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">{{rbLivestock}}</label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">{{lblLivestock}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Poultry Layer & Breeder Birds <small>(Broiler not Included)</small>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblPoultryBreeder}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Brood Fish
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblBroodFish}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Plants
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblPlant}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblAnimalPlantSubTotal}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Miscellaneous</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Insurance Premium of Assets :---
                                                </label>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    i. Fixed Assets
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblFixedAsset}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    ii. Livestock
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblMLivestock}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    iii. Birds
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblBird}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Perennial Fodder Cultivation
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblCultivation}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblMiscellaneousTotal}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Total Capital Investment Cost</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Total Capital Investment Cost
                                                    <small>(A. Land - G. Miscellaneous)</small>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{TotalCapitalInvestmentCost}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Recurring Expenditure</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Raw Material (Food, Seeds, Medicines, Fertilizers, Chemicals, etc)
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblRawMaterial}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Salary / labour
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblSalaryLabour}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Reparing & Maintainence, etc
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblRepairingMaintainenceEtc}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Sub Total
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblRecurringExpenditureSubTotal}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Total Project Cost</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Total Project Cost
                                                    <small>(1. Capital Investment + 2. Recurring Expenditure)</small>
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{TotalProjectCost}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Means of Finance</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Own Investment
                                                </label>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblOwnInvestment}}</label>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">Remark: {{lblareaOwnInvestment}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Term Loan
                                                </label>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblTermLoan}}</label>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">Remark: {{lblareaTermLoan}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Working Capital Loan
                                                </label>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblWorkingCapitalLoan}}</label>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">Remark: {{lblareaWorkingCapitalLoan}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Any Other Source
                                                </label>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblAnyOtherSource}}</label>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">Remark: {{lblareaAnyOtherSource}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Total Finance
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">₹ {{lblTotalFinance}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Profitability Projection</legend>
                                            <div class="row">
                                                <div class="form-group col-md-12 col-sm-12 col-xs-12" style="text-align: center">
                                                    <table class="table table-striped">
                                                        <tr>
                                                            <td><b>Serial No.</b></td>
                                                            <td><b>Year</b></td>
                                                            <td><b>Gross Revenue / Income ( ₹ )</b></td>
                                                            <td><b>Total Expenditure ( ₹ )</b></td>
                                                            <td><b>Gross Profit <small>(PBDIT)</small> ( ₹ )</b></td>
                                                            <td><b>Net Profit ( ₹ )</b></td>
                                                        </tr>
                                                        <tr ng-repeat="i in profitabilityProjectionDetails">
                                                            <td>{{$index + 1}}</td>
                                                            <td>{{i.Year}}</td>
                                                            <td>{{i.GrossRevenue}}</td>
                                                            <td>{{i.TotalExpenditure}}</td>
                                                            <td>{{i.GrossProfit}}</td>
                                                            <td>{{i.NetProfit}}</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Cash Flow Statements</legend>
                                            <div class="row">
                                                <div class="form-group col-md-12 col-sm-12 col-xs-12" style="text-align: center">
                                                    <table class="table table-striped">
                                                        <tr>
                                                            <td><b>Serial No.</b></td>
                                                            <td><b>Year</b></td>
                                                            <td><b>Total Cash Inflow ( ₹ )</b></td>
                                                            <td><b>Total Cash Outflow ( ₹ )</b></td>
                                                            <td><b>Net Cash Inflow ( ₹ )</b></td>
                                                        </tr>
                                                        <tr ng-repeat="i in cashFlowStatements">
                                                            <td>{{$index + 1}}</td>
                                                            <td>{{i.Year}}</td>
                                                            <td>{{i.TotalCashInflow}}</td>
                                                            <td>{{i.TotalCashOutflow}}</td>
                                                            <td>{{i.NetCashInflow}}</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            <div class="clearfix"></div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>Key Business Matrix</legend>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    Break Even Point
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">{{lblBreakEvenPoint}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    DSCR
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">{{lblDSCR}}</label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label style="text-align: center" class="control-label col-md-6 col-sm-6 col-xs-12">
                                                    IRR
                                                </label>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    <label style="font-weight: 400" class="control-label">{{lblIRR}}</label>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submitDPR()">Submit</button>
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
<div class="well text-center" ng-show="dprCompleted">
    <h4 style="color: red; text-align: left; margin-bottom: -10px">Print the completed DPR</h4>
    <div class="row">
        <section>
            <div class="wizard">
                <div class="wizard-inner">
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" style="width: 100%">
                            <a href="#completed" data-toggle="tab" aria-controls="completed" role="tab" title="Completed">
                                <span class="round-tab">
                                    <i style="color: #5bc0de" class="glyphicon glyphicon-ok"></i>
                                </span>
                            </a>
                            <h6>Completed</h6>
                        </li>
                    </ul>
                    <div class="well">
                        <p>You have successfully completed all the steps of Filling DPR. Please click on the Preview & Print DPR button to save a copy of DPR</p>
                        <input type="button" class="btn btn-info btn-sm" value="Preview & Print DPR" data-toggle="modal" data-target="#printDPRModal" ng-click="getPrintDetails()" />
                        @Html.ActionLink("Proceed To Payment", "Prerequisites", "Prerequisites", null, new { @class = "btn btn-primary", @type = "button" })
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
<div class="modal fade" id="printDPRModal" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title text-center">DPR Acknowledgement</h3>
            </div>
            <div class="modal-body">
                <div id="printSection" class="text-center">
                    <center>
                        <table style="width: 100%">
                            <tr>
                                <td style="width: 120px; padding: 10px"><img src="../Content/images/govtlogo.jpg" /></td>
                                <td style="text-align: center"><h3>Department of Agriculture and Farmers' Empowerment</h3></td>
                                <td style="width: 120px; padding: 10px"><img style="height: 80px; width: 86px" src="~/Content/images/ApicolLOGO.jpg" /></td>
                            </tr>
                            <tr>
                                <td style="text-align: center" colspan="3"><h3>DPR Acknowledgement</h3></td>
                            </tr>
                        </table>
                        <h3>Beneficiary Details</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 50%"><b>Reference No</b></td>
                                <td style="width: 50%">{{referenceNo}}</td>
                            </tr>
                            <tr>
                                <td style="width: 50%"><b>Farmer ID</b></td>
                                <td style="width: 50%">{{farmerID}}</td>
                            </tr>
                            <tr>
                                <td style="width: 50%"><b>Name</b></td>
                                <td style="width: 50%">{{m.BeneficiaryName}}</td>
                            </tr>
                            <tr>
                                <td style="width: 50%"><b>Category of the Project</b></td>
                                <td style="width: 50%">{{m.DepartmentName}}</td>
                            </tr>
                            <tr>
                                <td style="width: 50%"><b>Type of the Project</b></td>
                                <td style="width: 50%">{{m.ProjectTypeName}}</td>
                            </tr>
                            <tr ng-show="showUnitCapacity">
                                <td style="width: 50%"><b>Unit Size or Capacity</b></td>
                                <td style="width: 50%">{{m.Capacity}}</td>
                            </tr>
                        </table>
                        <h3>Land</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Land Development</b></td>
                                <td style="width: 25%">₹ {{z.Development}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Fencing <small>(Barbed Wire / Green Fencing)</small></b></td>
                                <td style="width: 25%">₹ {{z.Fencing}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sub Total</b></td>
                                <td style="width: 25%">₹ {{z.LandTotal}}</td>
                            </tr>
                        </table>
                        <h3>Civil Construction <small>(Exclusively used for the Project)</small></h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Building</b></td>
                                <td style="width: 25%">₹ {{z.Building}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Shed</b></td>
                                <td style="width: 25%">₹ {{z.Shed}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Office cum Store</b></td>
                                <td style="width: 25%">₹ {{z.OfficeCumStore}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Godown</b></td>
                                <td style="width: 25%">₹ {{z.Godown}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Plant Area</b></td>
                                <td style="width: 25%">₹ {{z.PlantArea}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Other Necessary Constructions</b></td>
                                <td style="width: 25%">₹ {{z.OtherNecessaryConstruction}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sub Total</b></td>
                                <td style="width: 25%">₹ {{z.CivilConstructionTotal}}</td>
                            </tr>
                        </table>
                        <h3>Water Supply</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Bore Well / Tube Well / Dug Well / River Lift</b></td>
                                <td style="width: 25%">₹ {{z.WellOrRiver}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Pump & Pipeline</b></td>
                                <td style="width: 25%">₹ {{z.PumpPipeLine}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Tank / Overhead Tank</b></td>
                                <td style="width: 25%">₹ {{z.Tank}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sprinkler / Fogger</b></td>
                                <td style="width: 25%">₹ {{z.SprinklerFogger}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sub Total</b></td>
                                <td style="width: 25%">₹ {{z.WaterSupplyTotal}}</td>
                            </tr>
                        </table>
                        <h3>Electrification</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Installation & Fitting</b></td>
                                <td style="width: 25%">₹ {{z.InstallationFitting}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Transformer</b></td>
                                <td style="width: 25%">₹ {{z.Transformer}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>DG Set</b></td>
                                <td style="width: 25%">₹ {{z.DGSet}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sub Total</b></td>
                                <td style="width: 25%">₹ {{z.ElectrificationTotal}}</td>
                            </tr>
                        </table>
                        <h3>Plant & Machinery</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Equipment & Machinery <small>(including Transportation, Tax, & Insurance)</small></b></td>
                                <td style="width: 25%">₹ {{z.Equipment}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Manual / Motor Operated Equipment <small>(eg. Poultry Cages / Brooding & Growing Equipments / Milking Machine / Chaff Cutter / Refrigeration / Preservation Unit / Fisheries Equipments, etc)</small></b></td>
                                <td style="width: 25%">₹ {{z.ManualOrMotor}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sub Total</b></td>
                                <td style="width: 25%">₹ {{z.PlantMachineryTotal}}</td>
                            </tr>
                        </table>
                        <h3>Animal & Plant Cost</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td colspan="2">Livestock :--- <small>(including Transportation, Tax, & Insurance)</small></td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>{{z.LivestockType}}</b></td>
                                <td style="width: 25%">{{z.Livestock}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Poultry Layer & Breeder Birds <small>(Broiler not Included)</small></b></td>
                                <td style="width: 25%">₹ {{z.PoultryBreeder}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Brood Fish</b></td>
                                <td style="width: 25%">₹ {{z.BroodFish}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Plants</b></td>
                                <td style="width: 25%">₹ {{z.Plant}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sub Total</b></td>
                                <td style="width: 25%">₹ {{z.AnimalPlantTotal}}</td>
                            </tr>
                        </table>
                        <h3>Miscellaneous</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td colspan="2">Insurance Premium of Assets :---</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>i. Fixed Assets</b></td>
                                <td style="width: 25%">₹ {{z.FixedAsset}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>ii. Livestock</b></td>
                                <td style="width: 25%">₹ {{z.MLivestock}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>iii. Birds</b></td>
                                <td style="width: 25%">₹ {{z.Bird}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Perennial Fodder Cultivation</b></td>
                                <td style="width: 25%">₹ {{z.Cultivation}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sub Total</b></td>
                                <td style="width: 25%">₹ {{z.MiscellaneousTotal}}</td>
                            </tr>
                        </table>
                        <h3>Total Capital Investment Cost</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Total Capital Investment Cost <small>(A. Land - G. Miscellaneous)</small></b></td>
                                <td style="width: 25%">₹ {{z.TotalCapitalInvestmentCost}}</td>
                            </tr>
                        </table>
                        <h3>Recurring Expenditure</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Raw Material (Food, Seeds, Medicines, Fertilizers, Chemicals, etc)</b></td>
                                <td style="width: 25%">₹ {{z.RawMaterial}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Salary / labour</b></td>
                                <td style="width: 25%">₹ {{z.Salary}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Reparing & Maintainence, etc</b></td>
                                <td style="width: 25%">₹ {{z.Maintenance}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>Sub Total</b></td>
                                <td style="width: 25%">₹ {{z.RecurringExpenditureTotal}}</td>
                            </tr>
                        </table>
                        <h3>Total Project Cost</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Total Project Cost <small>(1. Capital Investment + 2. Recurring Expenditure)</small></b></td>
                                <td style="width: 25%">₹ {{z.TotalProjectCost}}</td>
                            </tr>
                        </table>
                        <h3>Means of Finance</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 50%"><b>Own Investment</b></td>
                                <td style="width: 25%">₹ {{z.OwnInvestment}}</td>
                                <td style="width: 25%">Remark: {{z.OwnInvestmentRemark == null ? 'NA' : z.OwnInvestmentRemark}}</td>
                            </tr>
                            <tr>
                                <td style="width: 50%"><b>Term Loan</b></td>
                                <td style="width: 25%">₹ {{z.TermLoan}}</td>
                                <td style="width: 25%">Remark: {{z.TermLoanRemark == null ? 'NA' : z.TermLoanRemark}}</td>
                            </tr>
                            <tr>
                                <td style="width: 50%"><b>Working Capital Loan</b></td>
                                <td style="width: 25%">₹ {{z.WorkingCapitalLoan}}</td>
                                <td style="width: 25%">Remark: {{z.WorkingCapitalLoanRemark == null ? 'NA' : z.WorkingCapitalLoanRemark}}</td>
                            </tr>
                            <tr>
                                <td style="width: 50%"><b>Any Other Source</b></td>
                                <td style="width: 25%">₹ {{z.OtherSource}}</td>
                                <td style="width: 25%">Remark: {{z.OtherSourceRemark == null ? 'NA' : z.OtherSourceRemark}}</td>
                            </tr>
                            <tr>
                                <td style="width: 50%"><b>Total Finance</b></td>
                                <td style="width: 25%">₹ {{z.TotalAmount}}</td>
                                <td style="width: 25%"></td>
                            </tr>
                        </table>
                        <h3>Profitability Projection</h3><hr />
                        <table style="width: 87.5%; text-align: center" class="table table-striped table-bordered">
                            <tr style="font-size: smaller">
                                <td><b>Serial No.</b></td>
                                <td><b>Year</b></td>
                                <td><b>Gross Revenue / Income ( ₹ )</b></td>
                                <td><b>Total Expenditure ( ₹ )</b></td>
                                <td><b>Gross Profit <small>(PBDIT)</small> ( ₹ )</b></td>
                                <td><b>Net Profit ( ₹ )</b></td>
                            </tr>
                            <tr ng-repeat="i in profitabilityProjectionDetails">
                                <td>{{$index + 1}}</td>
                                <td>{{i.Year}}</td>
                                <td>{{i.GrossRevenue}}</td>
                                <td>{{i.TotalExpenditure}}</td>
                                <td>{{i.GrossProfit}}</td>
                                <td>{{i.NetProfit}}</td>
                            </tr>
                        </table>
                        <h3>Cash Flow Statements</h3><hr />
                        <table style="width: 87.5%; text-align: center" class="table table-striped table-bordered">
                            <tr style="font-size: smaller">
                                <td><b>Serial No.</b></td>
                                <td><b>Year</b></td>
                                <td><b>Total Cash Inflow ( ₹ )</b></td>
                                <td><b>Total Cash Outflow ( ₹ )</b></td>
                                <td><b>Net Cash Inflow ( ₹ )</b></td>
                            </tr>
                            <tr ng-repeat="i in cashFlowStatements">
                                <td>{{$index + 1}}</td>
                                <td>{{i.Year}}</td>
                                <td>{{i.TotalCashInflow}}</td>
                                <td>{{i.TotalCashOutflow}}</td>
                                <td>{{i.NetCashInflow}}</td>
                            </tr>
                        </table>
                        <h3>Key Business Matrix</h3><hr />
                        <table style="width: 75%" class="table table-striped">
                            <tr>
                                <td style="width: 75%"><b>Break Even Point</b></td>
                                <td style="width: 25%">{{z.BreakEvenPoint}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>DSCR</b></td>
                                <td style="width: 25%">{{z.DSCR}}</td>
                            </tr>
                            <tr>
                                <td style="width: 75%"><b>IRR</b></td>
                                <td style="width: 25%">{{z.IRR}}</td>
                            </tr>
                        </table>
                    </center>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="print('printSection')">Print DPR</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
    var app = angular.module("DPRApp", ['ngMaterial']);

    app.controller("DPRCtrl", function ($scope, $http, $mdDialog) {

        var token = document.getElementsByName('__RequestVerificationToken')[0].value;

        var showAlert = function (ev) {
            $mdDialog.show(
                $mdDialog.alert()
                    .parent(angular.element(document.querySelector('#popupContainer')))
                    .clickOutsideToClose(true)
                    .title('Alert')
                    .textContent(ev)
                    .ariaLabel('Alert Dialog Demo')
                    .ok('OK')
                    .targetEvent(ev)
            );
        };

        $scope.dprVisible = false;
        $scope.detailsVisible = false;
        $scope.btnContinueDPR = false;
        $scope.beneficiaryDetails = true;
        $scope.entryDetails = true;
        $scope.btnProceed = true;
        $scope.errorField = false;
        $scope.pData = true;
        $scope.cData = true;

        var showTextbox = function () {
            $scope.detailsVisible = true;
        };

        $scope.openDPR = function () {
            checkReferenceNo();
        };

        $scope.pYears = [];
        var year = @DateTime.Now.Year.ToString();
        var max = year + 6;
        for (x = year; x <= max; x++) {
            $scope.pYears.push(x);
        }

        $scope.cYears = [];
        var year = @DateTime.Now.Year.ToString();
        var max = year + 6;
        for (x = year; x <= max; x++) {
            $scope.cYears.push(x);
        }

        $scope.npI = true;
        $scope.textboxTypeP = function(a) {
            var year = @DateTime.Now.Year.ToString();
            if (a == year) {
                $scope.ppI = false;
                $scope.npI = true;
            }
            else{
                $scope.npI = false;
                $scope.ppI = true;
            }
        };

        $scope.ncI = true;
        $scope.textboxTypeC = function(a) {
            var year = @DateTime.Now.Year.ToString();
            if (a == year) {
                $scope.pcI = false;
                $scope.ncI = true;
            }
            else{
                $scope.ncI = false;
                $scope.pcI = true;
            }
        };

        $scope.updateLandSum = function () {
            var k = (parseFloat($scope.txtLandDevelopment) + parseFloat($scope.txtFencing)).toFixed(2);
            (k == "NaN") ? $scope.txtLandSubTotal = "" : $scope.txtLandSubTotal = k;
        };
        $scope.LandSum = function () {
            var k = (parseFloat($scope.LandDevelopment) + parseFloat($scope.Fencing)).toFixed(2);
            (k == "NaN") ? $scope.LandSubTotal = "" : $scope.LandSubTotal = k;
        };

        $scope.updateCivilConstructionSum = function () {
            var k = (parseFloat($scope.txtBuilding) + parseFloat($scope.txtShed) + parseFloat($scope.txtOfficeCumStore) + parseFloat($scope.txtGodown) + parseFloat($scope.txtPlantArea) + parseFloat($scope.txtOtherNecessaryConstruction)).toFixed(2);
            (k == "NaN") ? $scope.txtCivilConstructionSubTotal = "" : $scope.txtCivilConstructionSubTotal = k;
        };
        $scope.CivilConstructionSum = function () {
            var k = (parseFloat($scope.Building) + parseFloat($scope.Shed) + parseFloat($scope.OfficeCumStore) + parseFloat($scope.Godown) + parseFloat($scope.PlantArea) + parseFloat($scope.OtherNecessaryConstruction)).toFixed(2);
            (k == "NaN") ? $scope.CivilConstructionSubTotal = "" : $scope.CivilConstructionSubTotal = k;
        };

        $scope.updateWaterSupplySum = function () {
            var k = (parseFloat($scope.txtWellOrRiver) + parseFloat($scope.txtPumpPipeline) + parseFloat($scope.txtTank) + parseFloat($scope.txtSprinklerFogger)).toFixed(2);
            (k == "NaN") ? $scope.txtWaterSupplySubTotal = "" : $scope.txtWaterSupplySubTotal = k;
        };
        $scope.WaterSupplySum = function () {
            var k = (parseFloat($scope.WellOrRiver) + parseFloat($scope.PumpPipeline) + parseFloat($scope.Tank) + parseFloat($scope.SprinklerFogger)).toFixed(2);
            (k == "NaN") ? $scope.WaterSupplySubTotal = "" : $scope.WaterSupplySubTotal = k;
        };

        $scope.updateElectrificationSum = function () {
            var k = (parseFloat($scope.txtInstallationFitting) + parseFloat($scope.txtTransformer) + parseFloat($scope.txtDGSet)).toFixed(2);
            (k == "NaN") ? $scope.txtElectrificationSubTotal = "" : $scope.txtElectrificationSubTotal = k;
        };
        $scope.ElectrificationSum = function () {
            var k = (parseFloat($scope.InstallationFitting) + parseFloat($scope.Transformer) + parseFloat($scope.DGSet)).toFixed(2);
            (k == "NaN") ? $scope.ElectrificationSubTotal = "" : $scope.ElectrificationSubTotal = k;
        };

        $scope.updatePlantMachinerySum = function () {
            var k = (parseFloat($scope.txtEquipmentMachinery) + parseFloat($scope.txtManualOrMotor)).toFixed(2);
            (k == "NaN") ? $scope.txtPlantMachinerySubTotal = "" : $scope.txtPlantMachinerySubTotal = k;
        };
        $scope.PlantMachinerySum = function () {
            var k = (parseFloat($scope.EquipmentMachinery) + parseFloat($scope.ManualOrMotor)).toFixed(2);
            (k == "NaN") ? $scope.PlantMachinerySubTotal = "" : $scope.PlantMachinerySubTotal = k;
        };

        $scope.updateAnimalPlantSum = function () {
            if ($scope.rbLivestockC || $scope.rbLivestockB || $scope.rbLivestockS || $scope.rbLivestockG || $scope.rbLivestockP){
                var k = (parseFloat($scope.txtLivestock) + parseFloat($scope.txtPoultryBreeder) + parseFloat($scope.txtBroodFish) + parseFloat($scope.txtPlant)).toFixed(2);
            }
            else if (($scope.rbLivestockC == false || $scope.rbLivestockC == undefined) && ($scope.rbLivestockB == false || $scope.rbLivestockB == undefined) && ($scope.rbLivestockS == false || $scope.rbLivestockS == undefined) && ($scope.rbLivestockG == false || $scope.rbLivestockG == undefined) && ($scope.rbLivestockP == false || $scope.rbLivestockP == undefined)){
                var k = (parseFloat($scope.txtPoultryBreeder) + parseFloat($scope.txtBroodFish) + parseFloat($scope.txtPlant)).toFixed(2);
            }
            (k == "NaN") ? $scope.txtAnimalPlantSubTotal = "" : $scope.txtAnimalPlantSubTotal = k;
        };
        $scope.AnimalPlantSum = function () {
            if ($scope.LivestockTypeC || $scope.LivestockTypeB || $scope.LivestockTypeS || $scope.LivestockTypeG || $scope.LivestockTypeP){
                var k = (parseFloat($scope.Livestock) + parseFloat($scope.PoultryBreeder) + parseFloat($scope.BroodFish) + parseFloat($scope.Plant)).toFixed(2);
            }
            else if (($scope.LivestockTypeC == false || $scope.LivestockTypeC == undefined) && ($scope.LivestockTypeB == false || $scope.LivestockTypeB == undefined) && ($scope.LivestockTypeS == false || $scope.LivestockTypeS == undefined) && ($scope.LivestockTypeG == false || $scope.LivestockTypeG == undefined) && ($scope.LivestockTypeP == false || $scope.LivestockTypeP == undefined)){
                var k = (parseFloat($scope.PoultryBreeder) + parseFloat($scope.BroodFish) + parseFloat($scope.Plant)).toFixed(2);
            }
            (k == "NaN") ? $scope.AnimalPlantSubTotal = "" : $scope.AnimalPlantSubTotal = k;
        };

        $scope.updateMiscellaneousSum = function () {
            var k = (parseFloat($scope.txtFixedAsset) + parseFloat($scope.txtMLivestock) + parseFloat($scope.txtBird) + parseFloat($scope.txtCultivation)).toFixed(2);
            (k == "NaN") ? $scope.txtMiscellaneousTotal = "" : $scope.txtMiscellaneousTotal = k;
        };
        $scope.MiscellaneousSum = function () {
            var k = (parseFloat($scope.FixedAsset) + parseFloat($scope.MLivestock) + parseFloat($scope.Bird) + parseFloat($scope.Cultivation)).toFixed(2);
            (k == "NaN") ? $scope.MiscellaneousTotal = "" : $scope.MiscellaneousTotal = k;
        };

        $scope.updateCapitalInvestmentSum = function () {
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal == null && $scope.txtWaterSupplySubTotal == null && $scope.txtElectrificationSubTotal == null && $scope.txtPlantMachinerySubTotal == null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalCapitalInvestmentCost = "" : $scope.txtTotalCapitalInvestmentCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal == null && $scope.txtElectrificationSubTotal == null && $scope.txtPlantMachinerySubTotal == null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalCapitalInvestmentCost = "" : $scope.txtTotalCapitalInvestmentCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal == null && $scope.txtPlantMachinerySubTotal == null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalCapitalInvestmentCost = "" : $scope.txtTotalCapitalInvestmentCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal == null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalCapitalInvestmentCost = "" : $scope.txtTotalCapitalInvestmentCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal !== null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal) + parseFloat($scope.txtPlantMachinerySubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalCapitalInvestmentCost = "" : $scope.txtTotalCapitalInvestmentCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal !== null && $scope.txtAnimalPlantSubTotal !== null && $scope.txtMiscellaneousTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal) + parseFloat($scope.txtPlantMachinerySubTotal) + parseFloat($scope.txtAnimalPlantSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalCapitalInvestmentCost = "" : $scope.txtTotalCapitalInvestmentCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal !== null && $scope.txtAnimalPlantSubTotal !== null && $scope.txtMiscellaneousTotal !== null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal) + parseFloat($scope.txtPlantMachinerySubTotal) + parseFloat($scope.txtAnimalPlantSubTotal) + parseFloat($scope.txtMiscellaneousTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalCapitalInvestmentCost = "" : $scope.txtTotalCapitalInvestmentCost = k;
            }
        };

        $scope.CapitalInvestmentSum = function () {
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal == undefined && $scope.WaterSupplySubTotal == undefined && $scope.ElectrificationSubTotal == undefined && $scope.PlantMachinerySubTotal == undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalCapitalInvestmentCost = "" : $scope.TotalCapitalInvestmentCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal == undefined && $scope.ElectrificationSubTotal == undefined && $scope.PlantMachinerySubTotal == undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalCapitalInvestmentCost = "" : $scope.TotalCapitalInvestmentCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal == undefined && $scope.PlantMachinerySubTotal == undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalCapitalInvestmentCost = "" : $scope.TotalCapitalInvestmentCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal == undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloat($scope.ElectrificationSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalCapitalInvestmentCost = "" : $scope.TotalCapitalInvestmentCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal !== undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloat($scope.ElectrificationSubTotal) + parseFloat($scope.PlantMachinerySubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalCapitalInvestmentCost = "" : $scope.TotalCapitalInvestmentCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal !== undefined && $scope.AnimalPlantSubTotal !== undefined && $scope.MiscellaneousTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloat($scope.ElectrificationSubTotal) + parseFloat($scope.PlantMachinerySubTotal) + parseFloat($scope.AnimalPlantSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalCapitalInvestmentCost = "" : $scope.TotalCapitalInvestmentCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal !== undefined && $scope.AnimalPlantSubTotal !== undefined && $scope.MiscellaneousTotal !== undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloat($scope.ElectrificationSubTotal) + parseFloat($scope.PlantMachinerySubTotal) + parseFloat($scope.AnimalPlantSubTotal) + parseFloat($scope.MiscellaneousTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalCapitalInvestmentCost = "" : $scope.TotalCapitalInvestmentCost = k;
            }
        };

        $scope.updateRecurringExpenditureSum = function () {
            var k = (parseFloat($scope.txtRawMaterial) + parseFloat($scope.txtSalaryLabour) + parseFloat($scope.txtRepairingMaintainenceEtc)).toFixed(2);
            (k == "NaN") ? $scope.txtRecurringExpenditureSubTotal = "" : $scope.txtRecurringExpenditureSubTotal = k;
        };
        $scope.RecurringExpenditureSum = function () {
            var k = (parseFloat($scope.RawMaterial) + parseFloat($scope.SalaryLabour) + parseFloat($scope.RepairingMaintainenceEtc)).toFixed(2);
            (k == "NaN") ? $scope.RecurringExpenditureSubTotal = "" : $scope.RecurringExpenditureSubTotal = k;
        };

        $scope.updateTotalSum = function () {
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal == null && $scope.txtWaterSupplySubTotal == null && $scope.txtElectrificationSubTotal == null && $scope.txtPlantMachinerySubTotal == null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null && $scope.txtRecurringExpenditureSubTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalProjectCost = "" : $scope.txtTotalProjectCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal == null && $scope.txtElectrificationSubTotal == null && $scope.txtPlantMachinerySubTotal == null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null && $scope.txtRecurringExpenditureSubTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalProjectCost = "" : $scope.txtTotalProjectCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal == null && $scope.txtPlantMachinerySubTotal == null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null && $scope.txtRecurringExpenditureSubTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalProjectCost = "" : $scope.txtTotalProjectCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal == null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null && $scope.txtRecurringExpenditureSubTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalProjectCost = "" : $scope.txtTotalProjectCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal !== null && $scope.txtAnimalPlantSubTotal == null && $scope.txtMiscellaneousTotal == null && $scope.txtRecurringExpenditureSubTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal) + parseFloat($scope.txtPlantMachinerySubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalProjectCost = "" : $scope.txtTotalProjectCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal !== null && $scope.txtAnimalPlantSubTotal !== null && $scope.txtMiscellaneousTotal == null && $scope.txtRecurringExpenditureSubTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal) + parseFloat($scope.txtPlantMachinerySubTotal) + parseFloat($scope.txtAnimalPlantSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalProjectCost = "" : $scope.txtTotalProjectCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal !== null && $scope.txtAnimalPlantSubTotal !== null && $scope.txtMiscellaneousTotal !== null && $scope.txtRecurringExpenditureSubTotal == null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal) + parseFloat($scope.txtPlantMachinerySubTotal) + parseFloat($scope.txtAnimalPlantSubTotal) + parseFloat($scope.txtMiscellaneousTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalProjectCost = "" : $scope.txtTotalProjectCost = k;
            }
            if ($scope.txtLandSubTotal !== null && $scope.txtCivilConstructionSubTotal !== null && $scope.txtWaterSupplySubTotal !== null && $scope.txtElectrificationSubTotal !== null && $scope.txtPlantMachinerySubTotal !== null && $scope.txtAnimalPlantSubTotal !== null && $scope.txtMiscellaneousTotal !== null && $scope.txtRecurringExpenditureSubTotal !== null) {
                var k = (parseFloat($scope.txtLandSubTotal) + parseFloat($scope.txtCivilConstructionSubTotal) + parseFloat($scope.txtWaterSupplySubTotal) + parseFloat($scope.txtElectrificationSubTotal) + parseFloat($scope.txtPlantMachinerySubTotal) + parseFloat($scope.txtAnimalPlantSubTotal) + parseFloat($scope.txtMiscellaneousTotal) + parseFloat($scope.txtRecurringExpenditureSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.txtTotalProjectCost = "" : $scope.txtTotalProjectCost = k;
            }
        };

        $scope.TotalSum = function () {
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal == undefined && $scope.WaterSupplySubTotal == undefined && $scope.ElectrificationSubTotal == undefined && $scope.PlantMachinerySubTotal == undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined && $scope.RecurringExpenditureSubTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalProjectCost = "" : $scope.TotalProjectCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal == undefined && $scope.ElectrificationSubTotal == undefined && $scope.PlantMachinerySubTotal == undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined && $scope.RecurringExpenditureSubTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalProjectCost = "" : $scope.TotalProjectCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal == undefined && $scope.PlantMachinerySubTotal == undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined && $scope.RecurringExpenditureSubTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalProjectCost = "" : $scope.TotalProjectCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal == undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined && $scope.RecurringExpenditureSubTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloat($scope.ElectrificationSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalProjectCost = "" : $scope.TotalProjectCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal !== undefined && $scope.AnimalPlantSubTotal == undefined && $scope.MiscellaneousTotal == undefined && $scope.RecurringExpenditureSubTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloat($scope.ElectrificationSubTotal) + parseFloat($scope.PlantMachinerySubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalProjectCost = "" : $scope.TotalProjectCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal !== undefined && $scope.AnimalPlantSubTotal !== undefined && $scope.MiscellaneousTotal == undefined && $scope.RecurringExpenditureSubTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloat($scope.ElectrificationSubTotal) + parseFloat($scope.PlantMachinerySubTotal) + parseFloat($scope.AnimalPlantSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalProjectCost = "" : $scope.TotalProjectCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal !== undefined && $scope.AnimalPlantSubTotal !== undefined && $scope.MiscellaneousTotal !== undefined && $scope.RecurringExpenditureSubTotal == undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloatparseFloat($scope.ElectrificationSubTotal) + parseFloat($scope.PlantMachinerySubTotal) + parseFloat($scope.AnimalPlantSubTotal) + parseFloat($scope.MiscellaneousTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalProjectCost = "" : $scope.TotalProjectCost = k;
            }
            if ($scope.LandSubTotal !== undefined && $scope.CivilConstructionSubTotal !== undefined && $scope.WaterSupplySubTotal !== undefined && $scope.ElectrificationSubTotal !== undefined && $scope.PlantMachinerySubTotal !== undefined && $scope.AnimalPlantSubTotal !== undefined && $scope.MiscellaneousTotal !== undefined && $scope.RecurringExpenditureSubTotal !== undefined) {
                var k = (parseFloat($scope.LandSubTotal) + parseFloat($scope.CivilConstructionSubTotal) + parseFloat($scope.WaterSupplySubTotal) + parseFloat($scope.ElectrificationSubTotal) + parseFloat($scope.PlantMachinerySubTotal) + parseFloat($scope.AnimalPlantSubTotal) + parseFloat($scope.MiscellaneousTotal) + parseFloat($scope.RecurringExpenditureSubTotal)).toFixed(2);
                (k == "NaN") ? $scope.TotalProjectCost = "" : $scope.TotalProjectCost = k;
            }
        };

        $scope.updateMeansOfFinanceSum = function () {
            var k = (parseFloat($scope.txtOwnInvestment) + parseFloat($scope.txtTermLoan) + parseFloat($scope.txtWorkingCapitalLoan) + parseFloat($scope.txtAnyOtherSource)).toFixed(2);
            (k == "NaN") ? $scope.txtTotalFinance = "" : $scope.txtTotalFinance = k;
        };
        $scope.MeansOfFinanceSum = function () {
            var k = (parseFloat($scope.OwnInvestment) + parseFloat($scope.TermLoan) + parseFloat($scope.WorkingCapitalLoan) + parseFloat($scope.AnyOtherSource)).toFixed(2);
            (k == "NaN") ? $scope.TotalFinance = "" : $scope.TotalFinance = k;
        };

        $scope.profitabilityProjection = [];
        $scope.pushPData = function () {
            if ($scope.profitabilityProjection.length < 6) {
                $scope.pData = true;
            }
            else if ($scope.profitabilityProjection.length >= 6) {
                $scope.pData = false;
            }
            if ($scope.ddlPYear !== undefined && $scope.txtGrossRevenue !== undefined && $scope.txtGrossRevenue !== "" && $scope.txtTotalExpenditure !== undefined && $scope.txtTotalExpenditure !== "" && $scope.txtGrossProfit !== undefined && $scope.txtGrossProfit !== "" && $scope.txtNetProfit !== undefined && $scope.txtNetProfit !== "") {
                var k = { PYear: $scope.ddlPYear, GrossRevenue: $scope.txtGrossRevenue, TotalExpenditure: $scope.txtTotalExpenditure, GrossProfit: $scope.txtGrossProfit, NetProfit: $scope.txtNetProfit };
                $scope.profitabilityProjection.push(k);
                $scope.pYears.splice($scope.pYears.indexOf($scope.ddlPYear), 1);

                $scope.ddlPYear = undefined;
                $scope.txtGrossRevenue = undefined;
                $scope.txtTotalExpenditure = undefined;
                $scope.txtGrossProfit = undefined;
                $scope.txtNetProfit = undefined;
            }
            else {
                showAlert('Please fill in the required fields.');
                $scope.pData = true;
            }
        };

        $scope.removePData = function (index, year) {
            if ($scope.profitabilityProjection.length <= 7) {
                $scope.pData = true;
            }
            else if ($scope.profitabilityProjection.length > 7) {
                $scope.pData = false;
            }
            $scope.profitabilityProjection.splice(index, 1);
            $scope.pYears.push(year);
        };

        $scope.cashFlowStatement = [];
        $scope.pushCData = function () {
            if ($scope.cashFlowStatement.length < 6) {
                $scope.cData = true;
            }
            else if ($scope.cashFlowStatement.length >= 6) {
                $scope.cData = false;
            }
            if ($scope.ddlCYear !== undefined && $scope.txtTotalCashInflow !== undefined && $scope.txtTotalCashInflow !== "" && $scope.txtTotalCashOutflow !== undefined && $scope.txtTotalCashOutflow !== "" && $scope.txtNetCashInflow !== undefined && $scope.txtNetCashInflow !== "") {
                var k = { CYear: $scope.ddlCYear, TotalCashInflow: $scope.txtTotalCashInflow, TotalCashOutflow: $scope.txtTotalCashOutflow, NetCashInflow: $scope.txtNetCashInflow };
                $scope.cashFlowStatement.push(k);
                $scope.cYears.splice($scope.cYears.indexOf($scope.ddlCYear), 1);

                $scope.ddlCYear = undefined;
                $scope.txtTotalCashInflow = undefined;
                $scope.txtTotalCashOutflow = undefined;
                $scope.txtNetCashInflow = undefined;
            }
            else {
                showAlert('Please fill in the required fields.');
                $scope.cData = true;
            }
        };

        $scope.removeCData = function (index, year) {
            if ($scope.cashFlowStatement.length <= 7) {
                $scope.cData = true;
            }
            else if ($scope.cashFlowStatement.length > 7) {
                $scope.cData = false;
            }
            $scope.cashFlowStatement.splice(index, 1);
            $scope.cYears.push(year);
        };

        $scope.getPrintDetails = function () {
            $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                $scope.z = response.data;
            }, function error(response) {
                showAlert(response.status);
            });
            $http.get('GetBeneficiaryDetailMasked?referenceNo=' + $scope.txtReferenceNo + '&farmerID=' + $scope.txtFarmerID + '&aadharNo=' + digest($scope.txtAadharNo)).then(function success(response) {
                $scope.m = response.data;
                if (m.Capacity != null) {
                    $scope.showUnitCapacity = true;
                }
                else {
                    $scope.showUnitCapacity = false;
                }
            }, function error(response) {
                showAlert(response.status);
            });
            $scope.referenceNo;
            $scope.farmerID;
            getProfitabilityProjectionDetails();
            getCashFlowStatementsDetails();
        };

        $scope.dReferenceNo = false;
        $scope.dFarmerID = false;
        $scope.dAadharNo = false;

        $scope.getBeneficiaryDetails = function () {
            if ($scope.txtReferenceNo !== undefined && $scope.txtFarmerID !== undefined && $scope.txtAadharNo !== undefined) {
                $http.get('GetBeneficiaryDetails?referenceNo=' + $scope.txtReferenceNo + '&farmerID=' + $scope.txtFarmerID + '&aadharNo=' + digest($scope.txtAadharNo)).then(function success(response) {
                    var k = response.data;
                    if (k == "Invalid Reference No.") {
                        showAlert(k);
                        $scope.txtReferenceNo = null;
                        return false;
                    }
                    else if (k == "Invalid Farmer ID.") {
                        showAlert(k);
                        $scope.txtFarmerID = null;
                        return false;
                    }
                    else if (k == "Invalid Aadhaar No.") {
                        showAlert(k);
                        $scope.txtAadharNo = null;
                        return false;
                    }
                    else if (k !== "" && ($scope.txtReferenceNo !== undefined && $scope.txtFarmerID !== undefined && $scope.txtAadharNo !== undefined)) {
                        $scope.btnProceed = false;
                        $scope.btnContinueDPR = true;
                        $scope.dReferenceNo = true;
                        $scope.dFarmerID = true;
                        $scope.dAadharNo = true;
                        $scope.txtNameOfTheEntrepreneur = k.BeneficiaryName;
                        $scope.txtCategoryOfTheProject = k.DepartmentName;
                        if (k.Capacity !== null) {
                            $scope.showUnitCapacity = true;
                            $scope.txtUnitSizeOrCapacity = k.Capacity;
                        }
                        else {
                            $scope.showUnitCapacity = false;
                        }
                        $scope.txtTypeOfProject = k.ProjectTypeName;
                        $scope.txtAadharNo = k.AadhaarNo;
                        $scope.referenceNo = $scope.txtReferenceNo;
                        $scope.farmerID = $scope.txtFarmerID;
                        showTextbox();
                    }
                    else if (k !== "" && ($scope.txtReferenceNo == undefined || $scope.txtFarmerID == undefined || $scope.txtAadharNo == undefined)) {
                        showAlert('Please enter the required details.');
                        $scope.reset();
                    }
                    else if (k == "" && ($scope.txtReferenceNo == undefined || $scope.txtFarmerID == undefined || $scope.txtAadharNo == undefined)) {
                        showAlert('Please enter the required details.');
                        $scope.reset();
                    }
                    else if (k == "") {
                        showAlert('Please enter the correct details.');
                        $scope.reset();
                    }
                    else {
                        showAlert('Oops! Something is wrong. Please try again.');
                        $scope.reset();
                    }
                }, function error(response) {
                    showAlert(response.status);
                });
            }
            else {
                showAlert('Please enter the required details.');
                $scope.reset();
                return false;
            }
        };

        var getAllDetails = function () {
            $http.get('GetProfitabilityProjectionDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                var k = response.data;
                if (k.length !== 0) {
                    $scope.inputProfitabilityProjection = false;
                    $scope.labelProfitabilityProjection = true;
                }
                if (k.length == 0) {
                    $scope.labelProfitabilityProjection = false;
                    $scope.inputProfitabilityProjection = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });

            $http.get('GetCashFlowStatementDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                var k = response.data;
                if (k.length !== 0) {
                    $scope.inputCashFlowStatement = false;
                    $scope.labelCashFlowStatement = true;
                }
                if (k.length == 0) {
                    $scope.labelCashFlowStatement = false;
                    $scope.inputCashFlowStatement = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });

            $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                var k = response.data;
                if (k.Development !== null && k.Fencing !== null && k.LandTotal !== null) {
                    $scope.inputLand = false;
                    $scope.labelLand = true;
                    $scope.lblLandDevelopment = k.Development;
                    $scope.lblFencing = k.Fencing;
                    $scope.lblLandSubTotal = k.LandTotal;
                    $scope.LandDevelopment = k.Development;
                    $scope.Fencing = k.Fencing;
                    $scope.LandSubTotal = k.LandTotal;
                    $scope.txtLandSubTotal = k.LandTotal;
                    $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.TotalProjectCost = k.TotalProjectCost;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.Development == null && k.fencing == null && k.LandTotal == null) {
                    $scope.labelLand = false;
                    $scope.inputLand = true;
                    $scope.txtLandDevelopment = k.Development;
                    $scope.txtFencing = k.Fencing;
                    $scope.txtLandSubTotal = k.LandTotal;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.Building !== null && k.Shed !== null && k.OfficeCumStore !== null && k.Godown !== null && k.PlantArea !== null && k.OtherNecessaryConstruction !== null && k.CivilConstructionTotal !== null) {
                    $scope.inputCivilConstruction = false;
                    $scope.labelCivilConstruction = true;
                    $scope.lblBuilding = k.Building;
                    $scope.lblShed = k.Shed;
                    $scope.lblOfficeCumStore = k.OfficeCumStore;
                    $scope.lblGodown = k.Godown;
                    $scope.lblPlantArea = k.PlantArea;
                    $scope.lblOtherNecessaryConstruction = k.OtherNecessaryConstruction;
                    $scope.lblCivilConstructionSubTotal = k.CivilConstructionTotal;
                    $scope.Building = k.Building;
                    $scope.Shed = k.Shed;
                    $scope.OfficeCumStore = k.OfficeCumStore;
                    $scope.Godown = k.Godown;
                    $scope.PlantArea = k.PlantArea;
                    $scope.OtherNecessaryConstruction = k.OtherNecessaryConstruction;
                    $scope.CivilConstructionSubTotal = k.CivilConstructionTotal;
                    $scope.txtCivilConstructionSubTotal = k.CivilConstructionTotal;
                    $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.TotalProjectCost = k.TotalProjectCost;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.Building == null && k.Shed == null && k.OfficeCumStore == null && k.Godown == null && k.PlantArea == null && k.OtherNecessaryConstruction == null && k.CivilConstructionTotal == null) {
                    $scope.labelCivilConstruction = false;
                    $scope.inputCivilConstruction = true;
                    $scope.txtBuilding = k.Building;
                    $scope.txtShed = k.Shed;
                    $scope.txtOfficeCumStore = k.OfficeCumStore;
                    $scope.txtGodown = k.Godown;
                    $scope.txtPlantArea = k.PlantArea;
                    $scope.txtOtherNecessaryConstruction = k.OtherNecessaryConstruction;
                    $scope.txtCivilConstructionSubTotal = k.CivilConstructionTotal;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.WellOrRiver !== null && k.PumpPipeLine !== null && k.Tank !== null && k.SprinklerFogger !== null && k.WaterSupplyTotal !== null) {
                    $scope.inputWaterSupply = false;
                    $scope.labelWaterSupply = true;
                    $scope.lblWellOrRiver = k.WellOrRiver;
                    $scope.lblPumpPipeline = k.PumpPipeLine
                    $scope.lblTank = k.Tank;
                    $scope.lblSprinklerFogger = k.SprinklerFogger;
                    $scope.lblWaterSupplySubTotal = k.WaterSupplyTotal;
                    $scope.WellOrRiver = k.WellOrRiver;
                    $scope.PumpPipeline = k.PumpPipeLine
                    $scope.Tank = k.Tank;
                    $scope.SprinklerFogger = k.SprinklerFogger;
                    $scope.WaterSupplySubTotal = k.WaterSupplyTotal;
                    $scope.txtWaterSupplySubTotal = k.WaterSupplyTotal;
                    $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.TotalProjectCost = k.TotalProjectCost;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.WellOrRiver == null && k.PumpPipeLine == null && k.Tank == null && k.SprinklerFogger == null && k.WaterSupplyTotal == null) {
                    $scope.labelWaterSupply = false;
                    $scope.inputWaterSupply = true;
                    $scope.txtWellOrRiver = k.WellOrRiver;
                    $scope.txtPumpPipeline = k.PumpPipeLine;
                    $scope.txtTank = k.Tank;
                    $scope.txtSprinklerFogger = k.SprinklerFogger;
                    $scope.txtWaterSupplySubTotal = k.WaterSupplyTotal;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.InstallationFitting !== null && k.Transformer !== null && k.DGSet !== null && k.ElectrificationTotal !== null) {
                    $scope.inputElectrification = false;
                    $scope.labelElectrification = true;
                    $scope.lblInstallationFitting = k.InstallationFitting;
                    $scope.lblTransformer = k.Transformer;
                    $scope.lblDGSet = k.DGSet;
                    $scope.lblElectrificationSubTotal = k.ElectrificationTotal;
                    $scope.InstallationFitting = k.InstallationFitting;
                    $scope.Transformer = k.Transformer;
                    $scope.DGSet = k.DGSet;
                    $scope.ElectrificationSubTotal = k.ElectrificationTotal;
                    $scope.txtElectrificationSubTotal = k.ElectrificationTotal;
                    $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.TotalProjectCost = k.TotalProjectCost;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.InstallationFitting == null && k.Transformer == null && k.DGSet == null && k.ElectrificationTotal == null) {
                    $scope.labelElectrification = false;
                    $scope.inputElectrification = true;
                    $scope.txtInstallationFitting = k.InstallationFitting;
                    $scope.txtTransformer = k.Transformer;
                    $scope.txtDGSet = k.DGSet;
                    $scope.txtElectrificationSubTotal = k.ElectrificationTotal;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.Equipment !== null && k.ManualOrMotor !== null && k.PlantMachineryTotal !== null) {
                    $scope.inputPlantMachinery = false;
                    $scope.labelPlantMachinery = true;
                    $scope.lblEquipmentMachinery = k.Equipment;
                    $scope.lblManualOrMotor = k.ManualOrMotor;
                    $scope.lblPlantMachinerySubTotal = k.PlantMachineryTotal;
                    $scope.EquipmentMachinery = k.Equipment;
                    $scope.ManualOrMotor = k.ManualOrMotor;
                    $scope.PlantMachinerySubTotal = k.PlantMachineryTotal;
                    $scope.txtPlantMachinerySubTotal = k.PlantMachineryTotal;
                    $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.TotalProjectCost = k.TotalProjectCost;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.Equipment == null && k.ManualOrMotor == null && k.PlantMachineryTotal == null) {
                    $scope.labelPlantMachinery = false;
                    $scope.inputPlantMachinery = true;
                    $scope.txtEquipmentMachinery = k.Equipment;
                    $scope.txtManualOrMotor = k.ManualOrMotor;
                    $scope.txtPlantMachinerySubTotal = k.PlantMachineryTotal;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if ((k.Livestock !== null || k.Livestock == null) && (k.LivestockType !== null || k.LivestockType == null) && k.PoultryBreeder !== null && k.BroodFish !== null && k.Plant !== null && k.AnimalPlantTotal !== null) {
                    if (k.LivestockType != null){
                        var arr = k.LivestockType.split(',');
                        for (var i = 0; i < arr.length; i++) {
                            var a = arr[i];
                            if (a.includes('Cow')) { $scope.LivestockTypeC = true; } if (a.includes('Buffalo')) { $scope.LivestockTypeB = true; } if (a.includes('Sheep')) { $scope.LivestockTypeS = true; } if (a.includes('Goat')) { $scope.LivestockTypeG = true; } if (a.includes('Pig')) { $scope.LivestockTypeP = true; }
                        }
                    }
                    $scope.inputAnimalPlantCost = false;
                    $scope.labelAnimalPlantCost = true;
                    $scope.lblLivestock = k.Livestock == null ? "NA" : k.Livestock;
                    $scope.rbLivestock = k.LivestockType == null ? "NA" : k.LivestockType;
                    $scope.lblPoultryBreeder = k.PoultryBreeder;
                    $scope.lblBroodFish = k.BroodFish;
                    $scope.lblPlant = k.Plant;
                    $scope.lblAnimalPlantSubTotal = k.AnimalPlantTotal;
                    $scope.Livestock = k.Livestock == null ? "" : k.Livestock;
                    $scope.LivestockType = k.LivestockType == null ? "NA" : k.LivestockType;
                    $scope.PoultryBreeder = k.PoultryBreeder;
                    $scope.BroodFish = k.BroodFish;
                    $scope.Plant = k.Plant;
                    $scope.AnimalPlantSubTotal = k.AnimalPlantTotal;
                    $scope.txtAnimalPlantSubTotal = k.AnimalPlantTotal;
                    $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.TotalProjectCost = k.TotalProjectCost;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.Livestock == null && k.LivestockType == null && k.PoultryBreeder == null && k.BroodFish == null && k.Plant == null && k.AnimalPlantTotal == null) {
                    $scope.labelAnimalPlantCost = false;
                    $scope.inputAnimalPlantCost = true;
                    $scope.txtLivestock = k.Livestock;
                    $scope.rbLivestock = k.LivestockType;
                    $scope.txtPoultryBreeder = k.PoultryBreeder;
                    $scope.txtBroodFish = k.BroodFish;
                    $scope.txtPlant = k.Plant;
                    $scope.txtAnimalPlantSubTotal = k.AnimalPlantTotal;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.FixedAsset !== null && k.MLivestock !== null && k.Bird !== null && k.Cultivation !== null && k.MiscellaneousTotal !== null) {
                    $scope.inputMiscellaneous = false;
                    $scope.labelMiscellaneous = true;
                    $scope.lblFixedAsset = k.FixedAsset;
                    $scope.lblMLivestock = k.MLivestock;
                    $scope.lblBird = k.Bird;
                    $scope.lblCultivation = k.Cultivation;
                    $scope.lblMiscellaneousTotal = k.MiscellaneousTotal;
                    $scope.FixedAsset = k.FixedAsset;
                    $scope.MLivestock = k.MLivestock;
                    $scope.Bird = k.Bird;
                    $scope.Cultivation = k.Cultivation;
                    $scope.MiscellaneousTotal = k.MiscellaneousTotal;
                    $scope.txtMiscellaneousTotal = k.MiscellaneousTotal;
                    $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.TotalProjectCost = k.TotalProjectCost;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.FixedAsset == null && k.MLivestock == null && k.Bird == null && k.Cultivation == null && k.MiscellaneousTotal == null) {
                    $scope.labelMiscellaneous = false;
                    $scope.inputMiscellaneous = true;
                    $scope.txtFixedAsset = k.FixedAsset;
                    $scope.txtMLivestock = k.MLivestock;
                    $scope.txtBird = k.Bird;
                    $scope.txtCultivation = k.Cultivation;
                    $scope.txtMiscellaneousTotal = k.MiscellaneousTotal;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.RawMaterial !== null && k.Salary !== null && k.Maintenance !== null && k.RecurringExpenditureTotal !== null) {
                    $scope.inputRecurringExpenditure = false;
                    $scope.labelRecurringExpenditure = true;
                    $scope.lblRawMaterial = k.RawMaterial;
                    $scope.lblSalaryLabour = k.Salary;
                    $scope.lblRepairingMaintainenceEtc = k.Maintenance;
                    $scope.lblRecurringExpenditureSubTotal = k.RecurringExpenditureTotal;
                    $scope.RawMaterial = k.RawMaterial;
                    $scope.SalaryLabour = k.Salary;
                    $scope.RepairingMaintainenceEtc = k.Maintenance;
                    $scope.RecurringExpenditureSubTotal = k.RecurringExpenditureTotal;
                    $scope.txtRecurringExpenditureSubTotal = k.RecurringExpenditureTotal;
                    $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.TotalProjectCost = k.TotalProjectCost;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.RawMaterial == null && k.Salary == null && k.Maintenance == null && k.RecurringExpenditureTotal == null) {
                    $scope.labelRecurringExpenditure = false;
                    $scope.inputRecurringExpenditure = true;
                    $scope.txtRawMaterial = k.RawMaterial;
                    $scope.txtSalaryLabour = k.Salary;
                    $scope.txtRepairingMaintainenceEtc = k.Maintenance;
                    $scope.txtRecurringExpenditureSubTotal = k.RecurringExpenditureTotal;
                    $scope.txtTotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                    $scope.txtTotalProjectCost = k.TotalProjectCost;
                }
                if (k.OwnInvestment !== null && k.TermLoan !== null && k.WorkingCapitalLoan !== null && k.OtherSource !== null && k.TotalAmount !== null) {
                    $scope.inputMeansOfFinance = false;
                    $scope.labelMeansOfFinance = true;
                    $scope.lblOwnInvestment = k.OwnInvestment;
                    $scope.lblareaOwnInvestment = k.OwnInvestmentRemark == null ? "NA" : k.OwnInvestmentRemark;
                    $scope.lblTermLoan = k.TermLoan;
                    $scope.lblareaTermLoan = k.TermLoanRemark == null ? "NA" : k.TermLoanRemark;
                    $scope.lblWorkingCapitalLoan = k.WorkingCapitalLoan;
                    $scope.lblareaWorkingCapitalLoan = k.WorkingCapitalLoanRemark == null ? "NA" : k.WorkingCapitalLoanRemark;
                    $scope.lblAnyOtherSource = k.OtherSource;
                    $scope.lblareaAnyOtherSource = k.OtherSourceRemark == null ? "NA" : k.OtherSourceRemark;
                    $scope.lblTotalFinance = k.TotalAmount;
                    $scope.OwnInvestment = k.OwnInvestment;
                    $scope.areaOwnInvestment = k.OwnInvestmentRemark;
                    $scope.TermLoan = k.TermLoan;
                    $scope.areaTermLoan = k.TermLoanRemark;
                    $scope.WorkingCapitalLoan = k.WorkingCapitalLoan;
                    $scope.areaWorkingCapitalLoan = k.WorkingCapitalLoanRemark;
                    $scope.AnyOtherSource = k.OtherSource;
                    $scope.areaAnyOtherSource = k.OtherSourceRemark;
                    $scope.TotalFinance = k.TotalAmount;
                    $scope.txtTotalFinance = k.TotalAmount;
                }
                if (k.OwnInvestment == null && k.OwnInvestmentRemark == null && k.TermLoan == null && k.TermLoanRemark == null && k.WorkingCapitalLoan == null && k.WorkingCapitalLoanRemark == null && k.OtherSource == null && k.OtherSourceRemark == null && k.TotalAmount == null) {
                    $scope.labelMeansOfFinance = false;
                    $scope.inputMeansOfFinance = true;
                    $scope.txtOwnInvestment = k.OwnInvestment;
                    $scope.txtareaOwnInvestment = k.OwnInvestmentRemark;
                    $scope.txtTermLoan = k.TermLoan;
                    $scope.txtareaTermLoan = k.TermLoanRemark;
                    $scope.txtWorkingCapitalLoan = k.WorkingCapitalLoan;
                    $scope.txtareaWorkingCapitalLoan = k.WorkingCapitalLoanRemark;
                    $scope.txtAnyOtherSource = k.OtherSource;
                    $scope.txtareaAnyOtherSource = k.OtherSourceRemark;
                    $scope.txtTotalFinance = k.TotalAmount;
                }
                if (k.BreakEvenPoint !== null && k.DSCR !== null && k.IRR !== null) {
                    $scope.inputKeyBusinessMatrix = false;
                    $scope.labelKeyBusinessMatrix = true;
                    $scope.lblBreakEvenPoint = k.BreakEvenPoint;
                    $scope.lblDSCR = k.DSCR;
                    $scope.lblIRR = k.IRR;
                    $scope.BreakEvenPoint = k.BreakEvenPoint;
                    $scope.DSCR = k.DSCR;
                    $scope.IRR = k.IRR;
                }
                if (k.BreakEvenPoint == null && k.DSCR == null && k.IRR == null) {
                    $scope.labelKeyBusinessMatrix = false;
                    $scope.inputKeyBusinessMatrix = true;
                    $scope.txtBreakEvenPoint = k.BreakEvenPoint;
                    $scope.txtDSCR = k.DSCR;
                    $scope.txtIRR = k.IRR;
                }
                getProfitabilityProjectionDetails();
                getCashFlowStatementsDetails();
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.loadTotal = function () {
            getAllDetails();
        };

        var checkReferenceNo = function () {
            $http.get('CheckReferenceNo?referenceNo=' + $scope.txtReferenceNo + '&farmerID=' + $scope.txtFarmerID + '&aadhaarNo=' + digest($scope.txtAadharNo)).then(function success(response) {
                var k = response.data;
                if (k == "Successful" && ($scope.txtReferenceNo !== "" && $scope.txtFarmerID !== "" && $scope.txtAadharNo !== "" && $scope.txtNameOfTheEntrepreneur !== "" && $scope.txtCategoryOfTheProject !== "" && $scope.txtTypeOfProject !== "")) {
                    $scope.dprVisible = true;
                    $scope.beneficiaryDetails = false;
                    getAllDetails();
                }
                else if (k == "Successful" && ($scope.txtReferenceNo == "" || $scope.txtFarmerID == "" || $scope.txtAadharNo == "" || $scope.txtNameOfTheEntrepreneur == "" || $scope.txtCategoryOfTheProject == "" || $scope.txtTypeOfProject == "")) {
                    showAlert('Please enter the required details.');
                    $scope.reset();
                }
                else if (k == "Something is wrong" && ($scope.txtReferenceNo == "" || $scope.txtFarmerID == "" || $scope.txtAadharNo == "" || $scope.txtNameOfTheEntrepreneur == "" || $scope.txtCategoryOfTheProject == "" || $scope.txtTypeOfProject == "")) {
                    showAlert('Please enter the required details.');
                    $scope.reset();
                }
                else if (k == "You have not completed the Registration.") {
                    showAlert(k);
                    $scope.reset();
                }
                else if (k == "You have completed the DPR.") {
                    showAlert(k);
                    $scope.beneficiaryDetails = false;
                    $scope.dprVisible = false;
                    $scope.dprCompleted = true;
                }
                else if (k == "Please enter the correct details.") {
                    showAlert(k);
                    $scope.reset();
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.reset();
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.reset = function () {
            $scope.txtReferenceNo = undefined;
            $scope.txtFarmerID = undefined;
            $scope.txtAadharNo = undefined;
            $scope.txtNameOfTheEntrepreneur = undefined;
            $scope.txtCategoryOfTheProject = undefined;
            $scope.txtUnitSizeOrCapacity = undefined;
            $scope.txtTypeOfProject = undefined;
            $scope.dReferenceNo = false;
            $scope.dFarmerID = false;
            $scope.dAadharNo = false;
            $scope.beneficiaryDetails = true;
            $scope.dprVisible = false;
            $scope.detailsVisible = false;
            $scope.btnContinueDPR = false;
            $scope.btnProceed = true;
        };

        $scope.profitabilityProjectionDetails = [];
        var getProfitabilityProjectionDetails = function () {
            $http.get('GetProfitabilityProjectionDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                $scope.profitabilityProjectionDetails = response.data;
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.editProfitabilityProjection = function (a, b) {
            $http.get('GetProfitabilityProjectionData?referenceNo=' + a + '&year=' + b).then(function success(response) {
                var k = response.data;
                if (k !== null || k != "") {
                    $scope.PYear = k.Year;
                    $scope.GrossRevenue = k.GrossRevenue;
                    $scope.TotalExpenditure = k.TotalExpenditure;
                    $scope.GrossProfit = k.GrossProfit;
                    $scope.NetProfit = k.NetProfit;
                    var year = new Date().getFullYear().toString();
                    if (b == year) {
                        $scope.npInteger = true;
                        $scope.ppInteger = false;
                    }
                    else {
                        $scope.ppInteger = true;
                        $scope.npInteger = false;
                    }
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.cashFlowStatements = [];
        var getCashFlowStatementsDetails = function () {
            $http.get('GetCashFlowStatementDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                $scope.cashFlowStatements = response.data;
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.editCashFlowStatement = function (a, b) {
            $http.get('GetCashFlowStatementData?referenceNo=' + a + '&year=' + b).then(function success(response) {
                var k = response.data;
                if (k !== null) {
                    $scope.CYear = k.Year;
                    $scope.TotalCashInflow = k.TotalCashInflow;
                    $scope.TotalCashOutflow = k.TotalCashOutflow;
                    $scope.NetCashInflow = k.NetCashInflow;
                    var year = new Date().getFullYear().toString();
                    if (b == year) {
                        $scope.ncInteger = true;
                        $scope.pcInteger = false;
                    }
                    else {
                        $scope.pcInteger = true;
                        $scope.ncInteger = false;
                    }
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addInvestmentLand = function () {
            var capitalInvestmentLand = { ReferenceNo: $scope.txtReferenceNo, Development: $scope.txtLandDevelopment, Fencing: $scope.txtFencing, Total: $scope.txtLandSubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.txtTotalCapitalInvestmentCost, TotalProjectCost: $scope.txtTotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'AddInvestmentLand',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cil: capitalInvestmentLand, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputLand = false;
                    $scope.labelLand = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblLandDevelopment = k.Development;
                            $scope.lblFencing = k.Fencing;
                            $scope.lblLandSubTotal = k.LandTotal;

                            $scope.LandDevelopment = k.Development;
                            $scope.Fencing = k.Fencing;
                            $scope.LandSubTotal = k.LandTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.labelLand = false;
                    $scope.inputLand = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateInvestmentLand = function () {
            var capitalInvestmentLand = { ReferenceNo: $scope.txtReferenceNo, Development: $scope.LandDevelopment, Fencing: $scope.Fencing, Total: $scope.LandSubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.TotalCapitalInvestmentCost, TotalProjectCost: $scope.TotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'UpdateInvestmentLand?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cil: capitalInvestmentLand, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('landModal').style.display = "none";
                    document.getElementById('btnLandModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblLandDevelopment = k.Development;
                            $scope.lblFencing = k.Fencing;
                            $scope.lblLandSubTotal = k.LandTotal;

                            $scope.LandDevelopment = k.Development;
                            $scope.Fencing = k.Fencing;
                            $scope.LandSubTotal = k.LandTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addInvestmentCivilConstruction = function () {
            var capitalInvestmentCivilConstruction = { ReferenceNo: $scope.txtReferenceNo, Building: $scope.txtBuilding, Shed: $scope.txtShed, OfficeCumStore: $scope.txtOfficeCumStore, Godown: $scope.txtGodown, PlantArea: $scope.txtPlantArea, OtherNecessaryConstruction: $scope.txtOtherNecessaryConstruction, Total: $scope.txtCivilConstructionSubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.txtTotalCapitalInvestmentCost, TotalProjectCost: $scope.txtTotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'AddInvestmentCivilConstuction',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cicc: capitalInvestmentCivilConstruction, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputCivilConstruction = false;
                    $scope.labelCivilConstruction = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblBuilding = k.Building;
                            $scope.lblShed = k.Shed;
                            $scope.lblOfficeCumStore = k.OfficeCumStore;
                            $scope.lblGodown = k.Godown;
                            $scope.lblPlantArea = k.PlantArea;
                            $scope.lblOtherNecessaryConstruction = k.OtherNecessaryConstruction;
                            $scope.lblCivilConstructionSubTotal = k.CivilConstructionTotal;

                            $scope.Building = k.Building;
                            $scope.Shed = k.Shed;
                            $scope.OfficeCumStore = k.OfficeCumStore;
                            $scope.Godown = k.Godown;
                            $scope.PlantArea = k.PlantArea;
                            $scope.OtherNecessaryConstruction = k.OtherNecessaryConstruction;
                            $scope.CivilConstructionSubTotal = k.CivilConstructionTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.labelCivilConstruction = false;
                    $scope.inputCivilConstruction = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateInvestmentCivilConstruction = function () {
            var capitalInvestmentCivilConstruction = { ReferenceNo: $scope.txtReferenceNo, Building: $scope.Building, Shed: $scope.Shed, OfficeCumStore: $scope.OfficeCumStore, Godown: $scope.Godown, PlantArea: $scope.PlantArea, OtherNecessaryConstruction: $scope.OtherNecessaryConstruction, Total: $scope.CivilConstructionSubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.TotalCapitalInvestmentCost, TotalProjectCost: $scope.TotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'UpdateInvestmentCivilConstruction?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cicc: capitalInvestmentCivilConstruction, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('civilConstructionModal').style.display = "none";
                    document.getElementById('btnCivilConstructionModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblBuilding = k.Building;
                            $scope.lblShed = k.Shed;
                            $scope.lblOfficeCumStore = k.OfficeCumStore;
                            $scope.lblGodown = k.Godown;
                            $scope.lblPlantArea = k.PlantArea;
                            $scope.lblOtherNecessaryConstruction = k.OtherNecessaryConstruction;
                            $scope.lblCivilConstructionSubTotal = k.CivilConstructionTotal;

                            $scope.Building = k.Building;
                            $scope.Shed = k.Shed;
                            $scope.OfficeCumStore = k.OfficeCumStore;
                            $scope.Godown = k.Godown;
                            $scope.PlantArea = k.PlantArea;
                            $scope.OtherNecessaryConstruction = k.OtherNecessaryConstruction;
                            $scope.CivilConstructionSubTotal = k.CivilConstructionTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addInvestmentWaterSupply = function () {
            var capitalInvestmentWaterSupply = { ReferenceNo: $scope.txtReferenceNo, WellOrRiver: $scope.txtWellOrRiver, PumpPipeLine: $scope.txtPumpPipeline, Tank: $scope.txtTank, SprinklerFogger: $scope.txtSprinklerFogger, Total: $scope.txtWaterSupplySubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.txtTotalCapitalInvestmentCost, TotalProjectCost: $scope.txtTotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'AddInvestmentWaterSupply',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { ciws: capitalInvestmentWaterSupply, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputWaterSupply = false;
                    $scope.labelWaterSupply = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblWellOrRiver = k.WellOrRiver;
                            $scope.lblPumpPipeline = k.PumpPipeLine
                            $scope.lblTank = k.Tank;
                            $scope.lblSprinklerFogger = k.SprinklerFogger;
                            $scope.lblWaterSupplySubTotal = k.WaterSupplyTotal;

                            $scope.WellOrRiver = k.WellOrRiver;
                            $scope.PumpPipeline = k.PumpPipeLine
                            $scope.Tank = k.Tank;
                            $scope.SprinklerFogger = k.SprinklerFogger;
                            $scope.WaterSupplySubTotal = k.WaterSupplyTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.labelWaterSupply = false;
                    $scope.inputWaterSupply = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateInvestmentWaterSupply = function () {
            var capitalInvestmentWaterSupply = { ReferenceNo: $scope.txtReferenceNo, WellOrRiver: $scope.WellOrRiver, PumpPipeLine: $scope.PumpPipeline, Tank: $scope.Tank, SprinklerFogger: $scope.SprinklerFogger, Total: $scope.WaterSupplySubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.TotalCapitalInvestmentCost, TotalProjectCost: $scope.TotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'UpdateInvestmentWaterSupply?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { ciws: capitalInvestmentWaterSupply, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('waterSupplyModal').style.display = "none";
                    document.getElementById('btnWaterSupplyModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblWellOrRiver = k.WellOrRiver;
                            $scope.lblPumpPipeline = k.PumpPipeLine
                            $scope.lblTank = k.Tank;
                            $scope.lblSprinklerFogger = k.SprinklerFogger;
                            $scope.lblWaterSupplySubTotal = k.WaterSupplyTotal;

                            $scope.WellOrRiver = k.WellOrRiver;
                            $scope.PumpPipeline = k.PumpPipeLine
                            $scope.Tank = k.Tank;
                            $scope.SprinklerFogger = k.SprinklerFogger;
                            $scope.WaterSupplySubTotal = k.WaterSupplyTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addInvestmentElectrification = function () {
            var capitalInvestmentElectrification = { ReferenceNo: $scope.txtReferenceNo, InstallationFitting: $scope.txtInstallationFitting, Transformer: $scope.txtTransformer, DGSet: $scope.txtDGSet, Total: $scope.txtElectrificationSubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.txtTotalCapitalInvestmentCost, TotalProjectCost: $scope.txtTotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'AddInvestmentElectrification',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cie: capitalInvestmentElectrification, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputElectrification = false;
                    $scope.labelElectrification = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblInstallationFitting = k.InstallationFitting;
                            $scope.lblTransformer = k.Transformer;
                            $scope.lblDGSet = k.DGSet;
                            $scope.lblElectrificationSubTotal = k.ElectrificationTotal;

                            $scope.InstallationFitting = k.InstallationFitting;
                            $scope.Transformer = k.Transformer;
                            $scope.DGSet = k.DGSet;
                            $scope.ElectrificationSubTotal = k.ElectrificationTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.labelElectrification = false;
                    $scope.inputElectrification = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateInvestmentElectrification = function () {
            var capitalInvestmentElectrification = { ReferenceNo: $scope.txtReferenceNo, InstallationFitting: $scope.InstallationFitting, Transformer: $scope.Transformer, DGSet: $scope.DGSet, Total: $scope.ElectrificationSubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.TotalCapitalInvestmentCost, TotalProjectCost: $scope.TotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'UpdateInvestmentElectrification?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cie: capitalInvestmentElectrification, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('electrificationModal').style.display = "none";
                    document.getElementById('btnElectrificationModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblInstallationFitting = k.InstallationFitting;
                            $scope.lblTransformer = k.Transformer;
                            $scope.lblDGSet = k.DGSet;
                            $scope.lblElectrificationSubTotal = k.ElectrificationTotal;

                            $scope.InstallationFitting = k.InstallationFitting;
                            $scope.Transformer = k.Transformer;
                            $scope.DGSet = k.DGSet;
                            $scope.ElectrificationSubTotal = k.ElectrificationTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addInvestmentPlantMachinery = function () {
            var capitalInvestmentPlantMachinery = { ReferenceNo: $scope.txtReferenceNo, Equipment: $scope.txtEquipmentMachinery, ManualOrMotor: $scope.txtManualOrMotor, Total: $scope.txtPlantMachinerySubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.txtTotalCapitalInvestmentCost, TotalProjectCost: $scope.txtTotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'AddInvestmentPlantMachinery',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cipm: capitalInvestmentPlantMachinery, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputPlantMachinery = false;
                    $scope.labelPlantMachinery = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblEquipmentMachinery = k.Equipment;
                            $scope.lblManualOrMotor = k.ManualOrMotor;
                            $scope.lblPlantMachinerySubTotal = k.PlantMachineryTotal;

                            $scope.EquipmentMachinery = k.Equipment;
                            $scope.ManualOrMotor = k.ManualOrMotor;
                            $scope.PlantMachinerySubTotal = k.PlantMachineryTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.labelPlantMachinery = false;
                    $scope.inputPlantMachinery = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateInvestmentPlantMachinery = function () {
            var capitalInvestmentPlantMachinery = { ReferenceNo: $scope.txtReferenceNo, Equipment: $scope.EquipmentMachinery, ManualOrMotor: $scope.ManualOrMotor, Total: $scope.PlantMachinerySubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.TotalCapitalInvestmentCost, TotalProjectCost: $scope.TotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'UpdateInvestmentPlantMachinery?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cipm: capitalInvestmentPlantMachinery, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('plantMachineryModal').style.display = "none";
                    document.getElementById('btnPlantMachineryModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblEquipmentMachinery = k.Equipment;
                            $scope.lblManualOrMotor = k.ManualOrMotor;
                            $scope.lblPlantMachinerySubTotal = k.PlantMachineryTotal;

                            $scope.EquipmentMachinery = k.Equipment;
                            $scope.ManualOrMotor = k.ManualOrMotor;
                            $scope.PlantMachinerySubTotal = k.PlantMachineryTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        var arrLivestock = '';
        $scope.checkArr = function() {
            arrLivestock = '';
            if ($scope.rbLivestockC){ arrLivestock = 'Cow'; }
            if ($scope.rbLivestockB){ arrLivestock += ',Buffalo'; }
            if ($scope.rbLivestockS){ arrLivestock += ',Sheep'; }
            if ($scope.rbLivestockG){ arrLivestock += ',Goat'; }
            if ($scope.rbLivestockP){ arrLivestock += ',Pig'; }
            if (arrLivestock.charAt(0) === ','){ arrLivestock = arrLivestock.substr(1); }
            $scope.updateAnimalPlantSum();
            $scope.updateTotalSum();
            $scope.updateCapitalInvestmentSum();
        };

        $scope.addInvestmentAnimalPlant = function () {
            if ((arrLivestock == '' && ($scope.txtLivestock == null || $scope.txtLivestock == "") && (($scope.rbLivestockC == false || $scope.rbLivestockC == undefined) && ($scope.rbLivestockB == false || $scope.rbLivestockB == undefined) && ($scope.rbLivestockS == false || $scope.rbLivestockS == undefined) && ($scope.rbLivestockG == false || $scope.rbLivestockG == undefined) && ($scope.rbLivestockP == false || $scope.rbLivestockP == undefined))) || (arrLivestock != '' && ($scope.txtLivestock != null || $scope.txtLivestock == "") && ($scope.rbLivestockC || $scope.rbLivestockB || $scope.rbLivestockS || $scope.rbLivestockG || $scope.rbLivestockP))){
                var capitalInvestmentAnimalPlant = { ReferenceNo: $scope.txtReferenceNo, LiveStockType: arrLivestock, LiveStock: $scope.txtLivestock, PoultryBreeder: $scope.txtPoultryBreeder, BroodFish: $scope.txtBroodFish, Plant: $scope.txtPlant, Total: $scope.txtAnimalPlantSubTotal };
                var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.txtTotalCapitalInvestmentCost, TotalProjectCost: $scope.txtTotalProjectCost };
                var myReq = {
                    method: 'POST',
                    url: 'AddInvestmentAnimalPlant',
                    headers: {
                        '__RequestVerificationToken': token
                    },
                    data: { ciap: capitalInvestmentAnimalPlant, ci: capitalInvestment }
                };
                $http(myReq).then(function success(response) {
                    var t = response.data;
                    if (t == true) {
                        showAlert('Records successfully saved.');
                        $scope.inputAnimalPlantCost = false;
                        $scope.labelAnimalPlantCost = true;

                        $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                            var k = response.data;
                            if (k !== null) {
                                if (k.LivestockType != null){
                                    var arr = k.LivestockType.split(',');
                                    for (var i = 0; i < arr.length; i++) {
                                        var a = arr[i];
                                        if (a.includes('Cow')) { $scope.LivestockTypeC = true; } if (a.includes('Buffalo')) { $scope.LivestockTypeB = true; } if (a.includes('Sheep')) { $scope.LivestockTypeS = true; } if (a.includes('Goat')) { $scope.LivestockTypeG = true; } if (a.includes('Pig')) { $scope.LivestockTypeP = true; }
                                    }
                                }

                                $scope.lblLivestock = k.Livestock == null ? "NA" : k.Livestock;
                                $scope.rbLivestock = k.LivestockType == null ? "NA" : k.LivestockType;
                                $scope.lblPoultryBreeder = k.PoultryBreeder;
                                $scope.lblBroodFish = k.BroodFish;
                                $scope.lblPlant = k.Plant;
                                $scope.lblAnimalPlantSubTotal = k.AnimalPlantTotal;

                                $scope.Livestock = k.Livestock == null ? "" : k.Livestock;
                                $scope.LivestockType = k.LivestockType == null ? "NA" : k.LivestockType;
                                $scope.PoultryBreeder = k.PoultryBreeder;
                                $scope.BroodFish = k.BroodFish;
                                $scope.Plant = k.Plant;
                                $scope.AnimalPlantSubTotal = k.AnimalPlantTotal;

                                $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                                $scope.TotalProjectCost = k.TotalProjectCost;
                            }
                            else {
                                showAlert('Oops! Something is wrong. Please try again.');
                            }
                        }, function error(response) {
                            showAlert(response.status);
                        });
                    }
                    else {
                        showAlert('Oops! Something is wrong. Please try again.');
                        $scope.labelAnimalPlantCost = false;
                        $scope.inputAnimalPlantCost = true;
                    }
                }, function error(response) {
                    showAlert(response.status);
                });
            }
            else{
                showAlert('Please enter the Livestock amount and select the Livestock.');
            }
        };

        var arrULivestock = '';
        $scope.updateCheckArr = function() {
            arrULivestock = '';
            if ($scope.LivestockTypeC){ arrULivestock = 'Cow'; }
            if ($scope.LivestockTypeB){ arrULivestock += ',Buffalo'; }
            if ($scope.LivestockTypeS){ arrULivestock += ',Sheep'; }
            if ($scope.LivestockTypeG){ arrULivestock += ',Goat'; }
            if ($scope.LivestockTypeP){ arrULivestock += ',Pig'; }
            if (arrULivestock.charAt(0) === ','){ arrULivestock = arrULivestock.substr(1); }
            $scope.AnimalPlantSum();
            $scope.TotalSum();
            $scope.CapitalInvestmentSum();
        };

        $scope.updateInvestmentAnimalPlant = function () {
            var lStock = $scope.Livestock.toString();
            $scope.updateCheckArr();
            if ((arrULivestock == '' && lStock == "") || (arrULivestock != '' && lStock != "")){
                var capitalInvestmentAnimalPlant = { ReferenceNo: $scope.txtReferenceNo, LiveStockType: arrULivestock, LiveStock: $scope.Livestock, PoultryBreeder: $scope.PoultryBreeder, BroodFish: $scope.BroodFish, Plant: $scope.Plant, Total: $scope.AnimalPlantSubTotal };
                var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.TotalCapitalInvestmentCost, TotalProjectCost: $scope.TotalProjectCost };
                var myReq = {
                    method: 'POST',
                    url: 'UpdateInvestmentAnimalPlant?referenceNo=' + $scope.txtReferenceNo,
                    headers: {
                        '__RequestVerificationToken': token
                    },
                    data: { ciap: capitalInvestmentAnimalPlant, ci: capitalInvestment }
                };
                $http(myReq).then(function success(response) {
                    var t = response.data;
                    if (t == true) {
                        showAlert('Records successfully updated.');
                        document.getElementById('animalPlantCostModal').style.display = "none";
                        document.getElementById('btnAnimalPlantCostModal').click();
                        $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                            var k = response.data;
                            if (k !== null) {
                                $scope.lblLivestock = k.Livestock == null ? "NA" : k.Livestock;
                                $scope.rbLivestock = k.LivestockType == null ? "NA" : k.LivestockType;
                                $scope.lblPoultryBreeder = k.PoultryBreeder;
                                $scope.lblBroodFish = k.BroodFish;
                                $scope.lblPlant = k.Plant;
                                $scope.lblAnimalPlantSubTotal = k.AnimalPlantTotal;

                                $scope.Livestock = k.Livestock == null ? "" : k.Livestock;
                                $scope.LivestockType = k.LivestockType == null ? "NA" : k.LivestockType;
                                $scope.PoultryBreeder = k.PoultryBreeder;
                                $scope.BroodFish = k.BroodFish;
                                $scope.Plant = k.Plant;
                                $scope.AnimalPlantSubTotal = k.AnimalPlantTotal;

                                $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                                $scope.TotalProjectCost = k.TotalProjectCost;
                            }
                            else {
                                showAlert('Oops! Something is wrong. Please try again.');
                            }
                        }, function error(response) {
                            showAlert(response.status);
                        });
                    }
                    else {
                        showAlert('Oops! Something is wrong. Please try again.');
                    }
                }, function error(response) {
                    showAlert(response.status);
                });
            }
            else{
                showAlert('Please enter the Livestock amount and select the Livestock.');
                document.getElementById('animalPlantCostModal').style.display = "none";
                document.getElementById('btnAnimalPlantCostModal').click();
            }
        };

        $scope.addInvestmentMiscellaneous = function () {
            var capitalInvestmentMiscellaneou = { ReferenceNo: $scope.txtReferenceNo, FixedAsset: $scope.txtFixedAsset, Livestock: $scope.txtMLivestock, Bird: $scope.txtBird, Cultivation: $scope.txtCultivation, Total: $scope.txtMiscellaneousTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.txtTotalCapitalInvestmentCost, TotalProjectCost: $scope.txtTotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'AddInvestmentMiscellaneous',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cim: capitalInvestmentMiscellaneou, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputMiscellaneous = false;
                    $scope.labelMiscellaneous = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblFixedAsset = k.FixedAsset;
                            $scope.lblMLivestock = k.MLivestock;
                            $scope.lblBird = k.Bird;
                            $scope.lblCultivation = k.Cultivation;
                            $scope.lblMiscellaneousTotal = k.MiscellaneousTotal;

                            $scope.FixedAsset = k.FixedAsset;
                            $scope.MLivestock = k.MLivestock;
                            $scope.Bird = k.Bird;
                            $scope.Cultivation = k.Cultivation;
                            $scope.MiscellaneousTotal = k.MiscellaneousTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.labelMiscellaneous = false;
                    $scope.inputMiscellaneous = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateInvestmentMiscellaneous = function () {
            var capitalInvestmentMiscellaneous = { ReferenceNo: $scope.txtReferenceNo, FixedAsset: $scope.FixedAsset, Livestock: $scope.MLivestock, Bird: $scope.Bird, Cultivation: $scope.Cultivation, Total: $scope.MiscellaneousTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.TotalCapitalInvestmentCost, TotalProjectCost: $scope.TotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'UpdateInvestmentMiscellaneous?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { cim: capitalInvestmentMiscellaneous, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('miscellaneousModal').style.display = "none";
                    document.getElementById('btnMiscellaneousModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblFixedAsset = k.FixedAsset;
                            $scope.lblMLivestock = k.MLivestock;
                            $scope.lblBird = k.Bird;
                            $scope.lblCultivation = k.Cultivation;
                            $scope.lblMiscellaneousTotal = k.MiscellaneousTotal;

                            $scope.FixedAsset = k.FixedAsset;
                            $scope.MLivestock = k.MLivestock;
                            $scope.Bird = k.Bird;
                            $scope.Cultivation = k.Cultivation;
                            $scope.MiscellaneousTotal = k.MiscellaneousTotal;

                            $scope.TotalCapitalInvestmentCost = k.TotalCapitalInvestmentCost;
                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addCapitalRecurring = function () {
            var recurringExpenditure = { ReferenceNo: $scope.txtReferenceNo, RawMaterial: $scope.txtRawMaterial, Salary: $scope.txtSalaryLabour, Maintenance: $scope.txtRepairingMaintainenceEtc, Total: $scope.txtRecurringExpenditureSubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.txtTotalCapitalInvestmentCost, TotalProjectCost: $scope.txtTotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'AddRecurringExpenditure',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { re: recurringExpenditure, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputRecurringExpenditure = false;
                    $scope.labelRecurringExpenditure = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblRawMaterial = k.RawMaterial;
                            $scope.lblSalaryLabour = k.Salary;
                            $scope.lblRepairingMaintainenceEtc = k.Maintenance;
                            $scope.lblRecurringExpenditureSubTotal = k.RecurringExpenditureTotal;

                            $scope.RawMaterial = k.RawMaterial;
                            $scope.SalaryLabour = k.Salary;
                            $scope.RepairingMaintainenceEtc = k.Maintenance;
                            $scope.RecurringExpenditureSubTotal = k.RecurringExpenditureTotal;

                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.labelRecurringExpenditure = false;
                    $scope.inputRecurringExpenditure = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateCapitalRecurring = function () {
            var recurringExpenditure = { ReferenceNo: $scope.txtReferenceNo, RawMaterial: $scope.RawMaterial, Salary: $scope.SalaryLabour, Maintenance: $scope.RepairingMaintainenceEtc, Total: $scope.RecurringExpenditureSubTotal };
            var capitalInvestment = { ReferenceNo: $scope.txtReferenceNo, TotalCapitalInvestmentCost: $scope.TotalCapitalInvestmentCost, TotalProjectCost: $scope.TotalProjectCost };
            var myReq = {
                method: 'POST',
                url: 'UpdateRecurringExpenditure?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: { re: recurringExpenditure, ci: capitalInvestment }
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('recurringExpenditureModal').style.display = "none";
                    document.getElementById('btnRecurringExpenditureModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblRawMaterial = k.RawMaterial;
                            $scope.lblSalaryLabour = k.Salary;
                            $scope.lblRepairingMaintainenceEtc = k.Maintenance;
                            $scope.lblRecurringExpenditureSubTotal = k.RecurringExpenditureTotal;

                            $scope.RawMaterial = k.RawMaterial;
                            $scope.SalaryLabour = k.Salary;
                            $scope.RepairingMaintainenceEtc = k.Maintenance;
                            $scope.RecurringExpenditureSubTotal = k.RecurringExpenditureTotal;

                            $scope.TotalProjectCost = k.TotalProjectCost;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addMeansOfFinance = function () {
            var myData = { ReferenceNo: $scope.txtReferenceNo, OwnInvestment: $scope.txtOwnInvestment, OwnInvestmentRemark: $scope.txtareaOwnInvestment, TermLoan: $scope.txtTermLoan, TermLoanRemark: $scope.txtareaTermLoan, WorkingCapitalLoan: $scope.txtWorkingCapitalLoan, WorkingCapitalLoanRemark: $scope.txtareaWorkingCapitalLoan, OtherSource: $scope.txtAnyOtherSource, OtherSourceRemark: $scope.txtareaAnyOtherSource, TotalAmount: $scope.txtTotalFinance };
            var myReq = {
                method: 'POST',
                url: 'AddMeansOfFinance',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: myData
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputMeansOfFinance = false;
                    $scope.labelMeansOfFinance = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblOwnInvestment = k.OwnInvestment;
                            $scope.lblareaOwnInvestment = k.OwnInvestmentRemark == null ? "NA" : k.OwnInvestmentRemark;
                            $scope.lblTermLoan = k.TermLoan;
                            $scope.lblareaTermLoan = k.TermLoanRemark == null ? "NA" : k.TermLoanRemark;
                            $scope.lblWorkingCapitalLoan = k.WorkingCapitalLoan;
                            $scope.lblareaWorkingCapitalLoan = k.WorkingCapitalLoanRemark == null ? "NA" : k.WorkingCapitalLoanRemark;
                            $scope.lblAnyOtherSource = k.OtherSource;
                            $scope.lblareaAnyOtherSource = k.OtherSourceRemark == null ? "NA" : k.OtherSourceRemark;
                            $scope.lblTotalFinance = k.TotalAmount;

                            $scope.OwnInvestment = k.OwnInvestment;
                            $scope.areaOwnInvestment = k.OwnInvestmentRemark;
                            $scope.TermLoan = k.TermLoan;
                            $scope.areaTermLoan = k.TermLoanRemark;
                            $scope.WorkingCapitalLoan = k.WorkingCapitalLoan;
                            $scope.areaWorkingCapitalLoan = k.WorkingCapitalLoanRemark;
                            $scope.AnyOtherSource = k.OtherSource;
                            $scope.areaAnyOtherSource = k.OtherSourceRemark;
                            $scope.TotalFinance = k.TotalAmount;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                    $scope.labelMeansOfFinance = false;
                    $scope.inputMeansOfFinance = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateMeansOfFinance = function () {
            var myData = { ReferenceNo: $scope.txtReferenceNo, OwnInvestment: $scope.OwnInvestment, OwnInvestmentRemark: $scope.areaOwnInvestment, TermLoan: $scope.TermLoan, TermLoanRemark: $scope.areaTermLoan, WorkingCapitalLoan: $scope.WorkingCapitalLoan, WorkingCapitalLoanRemark: $scope.areaWorkingCapitalLoan, OtherSource: $scope.AnyOtherSource, OtherSourceRemark: $scope.areaAnyOtherSource, TotalAmount: $scope.TotalFinance };
            var myReq = {
                method: 'POST',
                url: 'UpdateMeansOfFinance?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: myData
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('meansOfFinanceModal').style.display = "none";
                    document.getElementById('btnMeansOfFinanceModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblOwnInvestment = k.OwnInvestment;
                            $scope.lblareaOwnInvestment = k.OwnInvestmentRemark == null ? "NA" : k.OwnInvestmentRemark;
                            $scope.lblTermLoan = k.TermLoan;
                            $scope.lblareaTermLoan = k.TermLoanRemark == null ? "NA" : k.TermLoanRemark;
                            $scope.lblWorkingCapitalLoan = k.WorkingCapitalLoan;
                            $scope.lblareaWorkingCapitalLoan = k.WorkingCapitalLoanRemark == null ? "NA" : k.WorkingCapitalLoanRemark;
                            $scope.lblAnyOtherSource = k.OtherSource;
                            $scope.lblareaAnyOtherSource = k.OtherSourceRemark == null ? "NA" : k.OtherSourceRemark;
                            $scope.lblTotalFinance = k.TotalAmount;

                            $scope.OwnInvestment = k.OwnInvestment;
                            $scope.areaOwnInvestment = k.OwnInvestmentRemark;
                            $scope.TermLoan = k.TermLoan;
                            $scope.areaTermLoan = k.TermLoanRemark;
                            $scope.WorkingCapitalLoan = k.WorkingCapitalLoan;
                            $scope.areaWorkingCapitalLoan = k.WorkingCapitalLoanRemark;
                            $scope.AnyOtherSource = k.OtherSource;
                            $scope.areaAnyOtherSource = k.OtherSourceRemark;
                            $scope.TotalFinance = k.TotalAmount;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addProfitabilityProjection = function () {
            var myData = [];
            if ($scope.profitabilityProjection.length !== 7) {
                showAlert('Select all the 7 years of Profitability Projections');
            }
            else {
                angular.forEach($scope.profitabilityProjection, function (i) {
                    var k = {};
                    k.ReferenceNo = $scope.txtReferenceNo;
                    k.GrossRevenue = i.GrossRevenue;
                    k.TotalExpenditure = i.TotalExpenditure;
                    k.GrossProfit = i.GrossProfit;
                    k.NetProfit = i.NetProfit;
                    k.Year = i.PYear;
                    myData.push(k);
                });
                var myReq = {
                    method: 'POST',
                    url: 'AddProfitabilityProjection',
                    headers: {
                        '__RequestVerificationToken': token
                    },
                    data: { referenceNo: $scope.txtReferenceNo, lpp: myData },
                };
                $http(myReq).then(function success(response) {
                    var t = response.data;
                    if (t == true) {
                        showAlert('Records successfully saved.');
                        $scope.inputProfitabilityProjection = false;
                        $scope.labelProfitabilityProjection = true;
                        getProfitabilityProjectionDetails();
                    }
                    else {
                        showAlert('Oops! Something is wrong. Please try again.');
                        $scope.labelProfitabilityProjection = false;
                        $scope.inputProfitabilityProjection = true;
                    }
                }, function error(response) {
                    showAlert(response.status);
                });
            }
        };

        $scope.updateProfitabilityProjection = function () {
            var myData = { ReferenceNo: $scope.txtReferenceNo, Year: $scope.PYear, GrossRevenue: $scope.GrossRevenue, TotalExpenditure: $scope.TotalExpenditure, GrossProfit: $scope.GrossProfit, NetProfit: $scope.NetProfit };
            var myReq = {
                method: 'POST',
                url: 'UpdateProfitabilityProjection?referenceNo=' + $scope.txtReferenceNo + '&year=' + $scope.PYear,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: myData,
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('profitabilityProjectionModal').style.display = "none";
                    document.getElementById('btnProfitabilityProjectionModal').click();
                    getProfitabilityProjectionDetails();
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addCashFlowStatement = function () {
            var myData = [];
            if ($scope.cashFlowStatement.length !== 7) {
                showAlert('Select all the 7 years of Cash Flow Statements');
            }
            else {
                angular.forEach($scope.cashFlowStatement, function (i) {
                    var k = {};
                    k.ReferenceNo = $scope.txtReferenceNo;
                    k.TotalCashInflow = i.TotalCashInflow;
                    k.TotalCashOutflow = i.TotalCashOutflow;
                    k.NetCashInflow = i.NetCashInflow;
                    k.Year = i.CYear;
                    myData.push(k);
                });
                var myReq = {
                    method: 'POST',
                    url: 'AddCashFlowStatement',
                    headers: {
                        '__RequestVerificationToken': token
                    },
                    data: { referenceNo: $scope.txtReferenceNo, lcfs: myData },
                };
                $http(myReq).then(function success(response) {
                    var t = response.data;
                    if (t == true) {
                        showAlert('Records successfully saved.');
                        $scope.inputCashFlowStatement = false;
                        $scope.labelCashFlowStatement = true;
                        getCashFlowStatementsDetails();
                    }
                    else {
                        showAlert('Oops! Something is wrong. Please try again.');
                        $scope.labelProfitabilityProjection = false;
                        $scope.inputProfitabilityProjection = true;
                    }
                }, function error(response) {
                    showAlert(response.status);
                });
            }
        };

        $scope.updateCashFlowStatement = function () {
            var myData = { ReferenceNo: $scope.txtReferenceNo, Year: $scope.CYear, TotalCashInflow: $scope.TotalCashInflow, TotalCashOutflow: $scope.TotalCashOutflow, NetCashInflow: $scope.NetCashInflow };
            var myReq = {
                method: 'POST',
                url: 'UpdateCashFlowStatement?referenceNo=' + $scope.txtReferenceNo + '&year=' + $scope.CYear,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: myData,
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('cashFlowStatementModal').style.display = "none";
                    document.getElementById('btnCashFlowStatementModal').click();
                    getCashFlowStatementsDetails();
                }
                else {
                    showAlert('Oops! Something is wrong. Please try again.');
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.addKeyBusinessMatrix = function () {
            var myData = { ReferenceNo: $scope.txtReferenceNo, BreakEvenPoint: $scope.txtBreakEvenPoint, DSCR: $scope.txtDSCR, IRR: $scope.txtIRR };
            var myReq = {
                method: 'POST',
                url: 'AddKeyBusinessMatrix',
                headers: {
                    '__RequestVerificationToken': token
                },
                data: myData
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully saved.');
                    $scope.inputKeyBusinessMatrix = false;
                    $scope.labelKeyBusinessMatrix = true;

                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblBreakEvenPoint = k.BreakEvenPoint;
                            $scope.lblDSCR = k.DSCR;
                            $scope.lblIRR = k.IRR;

                            $scope.BreakEvenPoint = k.BreakEvenPoint;
                            $scope.DSCR = k.DSCR;
                            $scope.IRR = k.IRR;
                        }
                        else {
                            showAlert('Oops! Something is wrong. Please try again.');
                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('The value of Break Even Point must be between 0.00 and 1.00');
                    $scope.txtBreakEvenPoint = null;
                    $scope.labelKeyBusinessMatrix = false;
                    $scope.inputKeyBusinessMatrix = true;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.updateKeyBusinessMatrix = function () {
            var myData = { ReferenceNo: $scope.txtReferenceNo, BreakEvenPoint: $scope.BreakEvenPoint, DSCR: $scope.DSCR, IRR: $scope.IRR };
            var myReq = {
                method: 'POST',
                url: 'UpdateKeyBusinessMatrix?referenceNo=' + $scope.txtReferenceNo,
                headers: {
                    '__RequestVerificationToken': token
                },
                data: myData
            };
            $http(myReq).then(function success(response) {
                var t = response.data;
                if (t == true) {
                    showAlert('Records successfully updated.');
                    document.getElementById('keyBusinessMatrixModal').style.display = "none";
                    document.getElementById('btnKeyBusinessMatrixModal').click();
                    $http.get('GetDetails?referenceNo=' + $scope.txtReferenceNo).then(function success(response) {
                        var k = response.data;
                        if (k !== null) {
                            $scope.lblBreakEvenPoint = k.BreakEvenPoint;
                            $scope.lblDSCR = k.DSCR;
                            $scope.lblIRR = k.IRR;

                            $scope.BreakEvenPoint = k.BreakEvenPoint;
                            $scope.DSCR = k.DSCR;
                            $scope.IRR = k.IRR;
                        }
                        else {

                        }
                    }, function error(response) {
                        showAlert(response.status);
                    });
                }
                else {
                    showAlert('The value of Break Even Point must be between 0.00 and 1.00');
                    $scope.txtBreakEvenPoint = null;
                }
            }, function error(response) {
                showAlert(response.status);
            });
        };

        $scope.submitDPR = function () {
            var decision = confirm("Do you want to submit the DPR? You won't be able to edit the DPR again after submitting.");
            if (decision) {
                var dprStatus = { ReferenceNo: $scope.txtReferenceNo, Status: 1 };
                var bloRecord = { ReferenceNo: $scope.txtReferenceNo, DPRStatus: true };
                var myReq = {
                    method: 'POST',
                    url: 'UpdateDPRStatus?referenceNo=' + $scope.txtReferenceNo,
                    headers: {
                        '__RequestVerificationToken': token
                    },
                    data: { ds: dprStatus, br: bloRecord }
                };
                $http(myReq).then(function success(response) {
                    var k = response.data;
                    if (k == true) {
                        showAlert('DPR successfully submitted');
                        $scope.dprVisible = false;
                        $scope.beneficiaryDetails = false;
                        $scope.dprCompleted = true;
                    }
                    else {
                        showAlert('Oops! Something is wrong. Please try again.');
                    }
                }, function error(response) {
                    showAlert(response.status);
                });
            }
            else {
                return null;
            }
        };

        $scope.print = function (printSection) {
            var innerContents = document.getElementById(printSection).innerHTML;
            var popupWinindow = window.open('', '_blank', 'width=800, height=600, toolbar=1, titlebar=1, resizable=1, location=0, status=1, menubar=0, scrollbars=1');
            popupWinindow.document.open();
            popupWinindow.document.write('<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></head><body onload="window.print()">' + innerContents + '</html>');
            popupWinindow.document.close();
        };
    });

    app.directive('validNumber', function () {
        return {
            require: '?ngModel',
            link: function (scope, element, attrs, ngModelCtrl) {
                if (!ngModelCtrl) {
                    return;
                }
                ngModelCtrl.$parsers.push(function (val) {
                    if (angular.isUndefined(val)) {
                        var val = '';
                    }
                    var clean = val.replace(/[^0-9\.]/g, '');
                    var negativeCheck = clean.split('-');
                    var decimalCheck = clean.split('.');
                    if (!angular.isUndefined(negativeCheck[1])) {
                        negativeCheck[1] = negativeCheck[1].slice(0, negativeCheck[1].length);
                        clean = negativeCheck[0] + '-' + negativeCheck[1];
                        if (negativeCheck[0].length > 0) {
                            clean = negativeCheck[0];
                        }
                    }
                    if (!angular.isUndefined(decimalCheck[1])) {
                        decimalCheck[1] = decimalCheck[1].slice(0, 2);
                        clean = decimalCheck[0] + '.' + decimalCheck[1];
                    }
                    if (val !== clean) {
                        ngModelCtrl.$setViewValue(clean);
                        ngModelCtrl.$render();
                    }
                    return clean;
                });
                element.bind('keypress', function (event) {
                    if (event.keyCode === 32) {
                        event.preventDefault();
                    }
                });
            }
        };
    });

    app.directive('numbersOnly', function () {
        return {
            require: '?ngModel',
            link: function (scope, element, attrs, ngModelCtrl) {
                if (!ngModelCtrl) {
                    return;
                }
                ngModelCtrl.$parsers.push(function (val) {
                    if (angular.isUndefined(val)) {
                        var val = '';
                    }
                    var clean = val.replace(/[^0-9]/g, '');
                    var negativeCheck = clean.split('-');
                    if (!angular.isUndefined(negativeCheck[1])) {
                        negativeCheck[1] = negativeCheck[1].slice(0, negativeCheck[1].length);
                        clean = negativeCheck[0] + '-' + negativeCheck[1];
                        if (negativeCheck[0].length > 0) {
                            clean = negativeCheck[0];
                        }
                    }
                    if (val !== clean) {
                        ngModelCtrl.$setViewValue(clean);
                        ngModelCtrl.$render();
                    }
                    return clean;
                });
                element.bind('keypress', function (event) {
                    if (event.keyCode === 32) {
                        event.preventDefault();
                    }
                });
            }
        };
    });

    app.directive('referenceNo', function () {
        return {
            require: '?ngModel',
            link: function (scope, element, attrs, ngModelCtrl) {
                if (!ngModelCtrl) {
                    return;
                }
                ngModelCtrl.$parsers.push(function (val) {
                    if (angular.isUndefined(val)) {
                        var val = '';
                    }
                    var clean = val.replace(/[^a-zA-Z0-9\/\-]/g, '');
                    if (val !== clean) {
                        ngModelCtrl.$setViewValue(clean);
                        ngModelCtrl.$render();
                    }
                    return clean;
                });
                element.bind('keypress', function (event) {
                    if (event.keyCode === 32) {
                        event.preventDefault();
                    }
                });
            }
        };
    });

    app.directive('alphaNumeric', function () {
        return {
            require: '?ngModel',
            link: function (scope, element, attrs, ngModelCtrl) {
                if (!ngModelCtrl) {
                    return;
                }
                ngModelCtrl.$parsers.push(function (val) {
                    if (angular.isUndefined(val)) {
                        var val = '';
                    }
                    var clean = val.replace(/[^a-zA-Z0-9\/]/g, '');
                    if (val !== clean) {
                        ngModelCtrl.$setViewValue(clean);
                        ngModelCtrl.$render();
                    }
                    return clean;
                });
                element.bind('keypress', function (event) {
                    if (event.keyCode === 32) {
                        event.preventDefault();
                    }
                });
            }
        };
    });

    app.directive('capitalize', function () {
        return {
            require: '?ngModel',
            link: function (scope, element, attrs, ngModelCtrl) {
                var capitalize = function (inputValue) {
                    if (inputValue == undefined) inputValue = '';
                    var capitalized = inputValue.toUpperCase();
                    if (capitalized !== inputValue) {
                        ngModelCtrl.$setViewValue(capitalized);
                        ngModelCtrl.$render();
                    }
                    return capitalized;
                }
                ngModelCtrl.$parsers.push(capitalize);
                capitalize(scope[attrs.ngModel]);
            }
        };
    });

    app.directive('loading', ['$http', function ($http) {
        return {
            restrict: 'A',
            template: '<div class="loading">Loading&#8230;</div>',
            link: function (scope, elm, attrs) {
                scope.isLoading = function () {
                    return $http.pendingRequests.length > 0;
                };
                scope.$watch(scope.isLoading, function (v) {
                    if (v) {
                        elm.css('display', 'block');
                    } else {
                        elm.css('display', 'none');
                    }
                });
            }
        };
    }]);

    app.directive('integerAll', function () {
        return {
            require: '?ngModel',
            link: function (scope, element, attrs, ngModelCtrl) {
                element.on('keydown', function (event) {
                    var keyCode = []
                    if (attrs.allowNegative == "true") {
                        keyCode = [8, 9, 36, 35, 37, 39, 46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 109, 110, 173, 190, 189];
                    }
                    else {
                        var keyCode = [8, 9, 36, 35, 37, 39, 46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 110, 173, 190];
                    }
                    if (attrs.allowDecimal == "false") {
                        var index = keyCode.indexOf(190);
                        if (index > -1) {
                            keyCode.splice(index, 1);
                        }
                    }
                    if ($.inArray(event.which, keyCode) == -1) event.preventDefault();
                    else {
                        var oVal = ngModelCtrl.$modelValue || '';
                        if ($.inArray(event.which, [109, 173]) > -1 && oVal.indexOf('-') > -1) event.preventDefault();
                        else if ($.inArray(event.which, [110, 190]) > -1 && oVal.indexOf('.') > -1) event.preventDefault();
                    }
                })
                .on('blur', function () {
                    if (element.val() == '' || element.val() == '-') {
                        ngModelCtrl.$setViewValue('');
                    }
                    else if(parseFloat(element.val()) == 0.0){
                        ngModelCtrl.$setViewValue('0');
                    }
                    else if (attrs.allowDecimal == "false") {
                        ngModelCtrl.$setViewValue(element.val());
                    }
                    else {
                        if (attrs.decimalUpto) {
                            var fixedValue = parseFloat(element.val()).toFixed(attrs.decimalUpto);
                        }
                        else { var fixedValue = parseFloat(element.val()).toFixed(2); }
                        ngModelCtrl.$setViewValue(fixedValue);
                    }
                    ngModelCtrl.$render();
                    scope.$apply();
                });
                ngModelCtrl.$parsers.push(function (text) {
                    var oVal = ngModelCtrl.$modelValue;
                    var nVal = ngModelCtrl.$viewValue;
                    if (parseFloat(nVal) != nVal) {
                        if (nVal === null || nVal === undefined || nVal == '' || nVal == '-') oVal = nVal;
                        ngModelCtrl.$setViewValue(oVal);
                        ngModelCtrl.$render();
                        return oVal;
                    }
                    else {
                        var decimalCheck = nVal.split('.');
                        if (!angular.isUndefined(decimalCheck[1])) {
                            if (attrs.decimalUpto)
                                decimalCheck[1] = decimalCheck[1].slice(0, attrs.decimalUpto);
                            else
                                decimalCheck[1] = decimalCheck[1].slice(0, 2);
                            nVal = decimalCheck[0] + '.' + decimalCheck[1];
                        }
                        ngModelCtrl.$setViewValue(nVal);
                        ngModelCtrl.$render();
                        return nVal;
                    }
                });
                ngModelCtrl.$formatters.push(function (text) {
                    if (text == '0' || text == null && attrs.allowDecimal == "false") return '0';
                    else if (text == null && attrs.allowDecimal != "false" && attrs.decimalUpto == undefined) return '';
                    else if (text == '0') return '0';
                    else if (text == '0' || text == null && attrs.allowDecimal != "false" && attrs.decimalUpto != undefined) return parseFloat(0).toFixed(attrs.decimalUpto);
                    else if (attrs.allowDecimal != "false" && attrs.decimalUpto != undefined) return parseFloat(text).toFixed(attrs.decimalUpto);
                    else return parseFloat(text).toFixed(2);
                });
            }
        };
    });
</script>